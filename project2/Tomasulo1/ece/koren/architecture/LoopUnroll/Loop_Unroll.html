<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE> New Document </TITLE>
<META NAME="Generator" CONTENT="EditPlus">
<META NAME="Author" CONTENT="">
<META NAME="Keywords" CONTENT="">
<META NAME="Description" CONTENT="">
</HEAD>

<BODY>
	<title>Loop Instructions </title>
	<body bgcolor = "#6C7B8B" text = "white">
	<script type = "text/Javascript" language = "javascript">
		var DefaultInstr = 8
		MaxInstructions = 10
		var MAXNumOfRegs = 100
		var MAXUserRegs = 16
		var TotalCycles = 0	
		var CycPerItr = 0
		var	dispcond = 1;
      	var ListOfInstructions = new Array(MaxInstructions)
	  var StatusOfList = new Array(MaxInstructions)
	  var InitalRegValues = new Array(MAXUserRegs)
	  var MaxRegisters = 30
          var RegisterStatus = new Array(MaxRegisters)
	  for(i = 0;i<MaxRegisters;i++)
	  {
	     RegisterStatus[i] = "z"
	  }
	  RegisterStatus[1]		= "d"
	  InitalRegValues[0]	= "u"
	  InitalRegValues[1]	= "u"
	  InitalRegValues[2]	= "u"
	  InitalRegValues[3]	= "u"
	  InitalRegValues[4]	= "u"
	  InitalRegValues[5]	= "u"
	  InitalRegValues[6]	= "u"
	  InitalRegValues[7]	= "u"
	  InitalRegValues[8]	= "u"
	  InitalRegValues[9]	= "u"
	  InitalRegValues[10]	= "u"
	  InitalRegValues[11]	= "u"
	  InitalRegValues[12]	= "0"
	  InitalRegValues[13]	= "0"
	  InitalRegValues[14]	= "0"
	  InitalRegValues[15]	= "0"


	  ListOfInstructions[0]		= "addi"
	  ListOfInstructions[1]		= "subi"
	  ListOfInstructions[2]		= "add"
	  ListOfInstructions[3]		= "sub"
	  ListOfInstructions[4]		= "END"
	  ListOfInstructions[5]		= "ld"
	  ListOfInstructions[6]		= "st"
	  ListOfInstructions[7]		= "beq"
	  ListOfInstructions[8]		= "bne"
	  ListOfInstructions[9]		= "bnz"
	  ListOfInstructions[10]	= "bez"
	  <!-- These instructions are set by default-->
		var DefaultOps = new Array(10)
   		var DefaultRegs1 = new Array(10)
		var DefaultRegs2 = new Array(10)
		var DefaultRegs3 = new Array(10)
		var DefaultValue = new Array(10)
  		var DefaultLatencies = new Array(11)
		var DefaultUnroll = 2
		DefaultOps[1] = "ld"
	 DefaultOps[2] = "ld"
	 DefaultOps[3] = "add"
	 DefaultOps[4] = "add"
	 DefaultOps[5] = "addi"
	 DefaultOps[6] = "addi"
	 DefaultOps[7] = "subi"
	 DefaultOps[8] = "beq"

 	 DefaultRegs1[1] = "r1"
	 DefaultRegs1[2] = "r2"
	 DefaultRegs1[3] = "r4"
	 DefaultRegs1[4] = "r5"
	 DefaultRegs1[5] = "r14"
	 DefaultRegs1[6] = "r13"
	 DefaultRegs1[7] = "r15"
	 DefaultRegs1[8] = "NA"

 	 DefaultRegs2[1] = "r14"
	 DefaultRegs2[2] = "r13"
	 DefaultRegs2[3] = "r3"
	 DefaultRegs2[4] = "r5"
	 DefaultRegs2[5] = "r14"
	 DefaultRegs2[6] = "r13"
	 DefaultRegs2[7] = "r15"
	 DefaultRegs2[8] = "r15"

 	 DefaultRegs3[1] = "IM"
	 DefaultRegs3[2] = "IM"
	 DefaultRegs3[3] = "r1"
	 DefaultRegs3[4] = "r4"
	 DefaultRegs3[5] = "IM"
	 DefaultRegs3[6] = "IM"
	 DefaultRegs3[7] = "IM"
	 DefaultRegs3[8] = "r12"

  	 DefaultValue[1] = "0"
	 DefaultValue[2] = "0"
	 DefaultValue[3] = ""
	 DefaultValue[4] = ""
	 DefaultValue[5] = "8"
	 DefaultValue[6] = "8"
	 DefaultValue[7] = "1"
	 DefaultValue[8] = "1"

  	 DefaultLatencies[0]	= "2"
	 DefaultLatencies[1]	= "2"
	 DefaultLatencies[2]	= "3"
	 DefaultLatencies[3]	= "3"
	 DefaultLatencies[4]	= "3"
	 DefaultLatencies[5]	= "2"
	 DefaultLatencies[6]	= "0"
	 DefaultLatencies[7]	= "1"
	 DefaultLatencies[8]	= "1"
	 DefaultLatencies[9]	= "1"
	 DefaultLatencies[10]	= "1"
	  <!-- These instructions are set by default-->

	var NumOfInst = 0
    var QueryString = window.location.search
    QueryString = QueryString+"&"
    QueryString = QueryString.substring(QueryString.indexOf("?")+1,QueryString.length)
	var WebPageId = QueryString.substring(0,QueryString.indexOf("="))
  	var NumOpr
  	var LatNumOpr

	<!--*********************************************************************************************************-->
	<!--*********************************************************************************************************-->
	<!-- Ask the user to enter the Instructions-->
	if(WebPageId == "EnterInst" || WebPageId == "TextEditor")
		{
			document.write("<h2><center>Loop information</center></h2>")
			var NumOfInst =  QueryString.substring(QueryString.indexOf("=")+1,QueryString.length-1)
			if(NumOfInst > 0)
				{
					<!-- This is the form in which the loop instructions will be added -->
					function ChParseURL()
						{
							if(WebPageId == "TextEditor")
								{
									window.document.Instructions.NumUnroll.name = "ParseText"
								}
							if(WebPageId == "EnterInst")
								{
									window.document.Instructions.NumUnroll.name = "ParseTable"
								}
						}
					document.write("<form name = 'Instructions' method = 'get' action = 'Loop_Unroll.html' target = '_blank' onSubmit = 'ChParseURL()' >")
<!------------------------------------------------------------------------------------------------------------------------------------------------>
					document.write("<table align = 'center' border = '0' cellpadding = '0' width = '100%'>")
					document.write("<tr align = 'center'>")
  					document.write("<td align = 'center'>")
					document.write("<table border='0' cellspacing='0' cellpadding='0' width='50%' align = 'left'>")
<!------------------------------------------------------------------------------------------------------------------------------------------------>
					document.write("<tr align = 'center'>")
					document.write("<td colspan = '5'>")
					document.write("<p>")
					document.write("Enter the number unrolls of the loop:")
					document.write("</p>")
					document.write("</td>")
					document.write("<td>")
					document.write("<input type = 'text' name = 'NumUnroll' maxlength = '2' size = '2' value = '")
					document.write(DefaultUnroll)
					document.write("'>")
					document.write("</input>")
					document.write("</td>")
					document.write("</tr>")
					document.write("<tr align = 'center'>")
					document.write("</tr>")
					document.write("<tr align = 'center'>")
					document.write("</tr>")
					document.write("<tr align = 'center'>")
					document.write("</tr>")
					document.write("<tr align = 'center'>")
					document.write("</tr>")
					if(WebPageId == "EnterInst")
						{
							document.write("<tr>")
							document.write("<td align = 'center'>Instruction <BR> Number</td>")
							document.write("<td align = 'center'>Opcode</td>")
							document.write("<td align = 'center'>Destination</td>")
							document.write("<td align = 'center'>Source#1</td>")
							document.write("<td align = 'center'>Source#2</td>")
							document.write("<td align = 'center'>Immediate or <br> Displacement</td>")
							document.write("</tr>")
							<!-- The code that has to be repeated again and again -->
							<!-- This is the form in which the loop instructions will be added -->
							<!--	document.write("NUM of Instructions "+NumOfInst+"<BR>")-->

							for(i = 1;i<=NumOfInst;i++)
								{
									document.write("<tr align = 'center'>")
									document.write("<td>")
									document.write(i)
									document.write("</td>")
									document.write("<td>")
									document.write("<select name = 'Ops'>")
									for(j = 0;j<MaxInstructions+1;j++)
										{
											if(i != NumOfInst)
												{
 													if(ListOfInstructions[j].substring(0,1) != 'b'&& ListOfInstructions[j] != 'END')
 														{
															document.write("<option ")
															if(DefaultOps[i] == ListOfInstructions[j] && NumOfInst == DefaultInstr)
																{
																	document.write("selected value = '")
																}
															else
																{
																	document.write("value = '")
																}
															document.write(ListOfInstructions[j])
															document.write("'>")
															document.write(ListOfInstructions[j])
															document.write("</option>")
														}
												}
      										else
 												{
 													if(ListOfInstructions[j].substring(0,1) == 'b'&& ListOfInstructions[j] != 'END')
 														{
															document.write("<option ")
															if(DefaultOps[i] == ListOfInstructions[j] && NumOfInst == DefaultInstr)
																{
																	document.write("selected value = '")
																}
															else
																{
																	document.write("value = '")
																}
															document.write(ListOfInstructions[j])
															document.write("'>")
															document.write(ListOfInstructions[j])
															document.write("</option>")
														}
      											}
										}
									document.write("</select>")
									document.write("</td>")
									document.write("<td>")
									document.write("<select name = 'Regs1'>")
  									document.write("<option value = 'NA'> </option>")
									for(k = 0;k<=15;k++)
										{
											if(DefaultRegs1[i] == "r"+k  && NumOfInst == DefaultInstr)
												{
													document.write("<option selected  value = 'r")
												}
											else
      											{
													document.write("<option value = 'r")
												}
											document.write(k)
											document.write("'>r")
											document.write(k)
											document.write("</option>")
										}
									document.write("</select>")
									document.write("</td>")
									document.write("<td>")
									document.write("<select name = 'Regs2'>")
  									document.write("<option value = 'NA'> </option>")
    								for(k = 0;k<=15;k++)
										{
       										if(DefaultRegs2[i] == "r"+k  && NumOfInst == DefaultInstr)
												{
													document.write("<option selected  value = 'r")
												}
											else
      											{
													document.write("<option value = 'r")
												}
											document.write(k)
											document.write("'>r")
											document.write(k)
											document.write("</option>")
										}
									document.write("</select>")
									document.write("</td>")
									document.write("<td>")
									document.write("<select name = 'Regs3'>")
									if(DefaultRegs3[i] == "IM"  && NumOfInst == DefaultInstr)
										{
											document.write("<option selected value = 'IM'> </option>")
										}
									else
										{
											document.write("<option value = 'IM'> </option>")
										}
       								for(k = 0;k<=15;k++)
										{
											if(DefaultRegs3[i] != "IM")
												{
       												if(DefaultRegs3[i] == "r"+k  && NumOfInst == DefaultInstr )
														{
															document.write("<option selected  value = 'r")
														}
													else
														{
															document.write("<option  value = 'r")
														}
												}
											else
												{
													document.write("<option value = 'r")
												}
											document.write(k)
											document.write("'>r")
											document.write(k)
											document.write("</option>")
										}
									document.write("</select>")
									document.write("</td>")
									document.write("<td>")
									if(DefaultValue[i] != ""  && NumOfInst == DefaultInstr)
										{
											document.write("<input type = 'text' name = 'Imm' maxlength = '2' size = '2' value = '")
											document.write(DefaultValue[i])
											document.write("'></input>")
										}
									else
										{
											document.write("<input type = 'text' name = 'Imm' maxlength = '2' size = '2'></input>")
										}
									document.write("</td>")
									document.write("</tr>")
								}
							document.write("<tr>")
							document.write("<td colspan = '7' align = 'center'>")
							document.write("<font color = 6C7B8B> xxxx </font>")
							document.write("<td>")
							document.write("</tr>")
							document.write("<tr>")
							function LoadUrl()
								{
									window.location = "Loop_Unroll.html@TextEditor="+NumOfInst
								}
							document.write("<td colspan = '7' align = 'center'>")
							document.write("<input type = 'button' value = 'Text Editor' onClick = 'LoadUrl()'>")
							document.write("</input>")
							document.write("<td>")
							document.write("</tr>")
						}
				}
			function loadtable()
				{
					window.location = "Loop_Unroll.html@EnterInst="+NumOfInst
				}
				if(WebPageId == "TextEditor")
					{
						document.write("<tr>")
						document.write("<td align = 'center'><font color = 6C7B8B> xxxx </font></td>")
						document.write("<td align = 'center'><font color = 6C7B8B> xxxx </font></td>")
						document.write("<td align = 'center'><font color = 6C7B8B> xxxx </font></td>")
						document.write("<td align = 'center'><font color = 6C7B8B> xxxx </font></td>")
						document.write("<td align = 'center'><font color = 6C7B8B> xxxx </font></td>")
						document.write("<td align = 'center'><font color = 6C7B8B> xxxx </font></td>")
						document.write("</tr>")
						document.write("<tr>")
						document.write("<td colspan = 6 align = 'center'>")
						document.write("<textarea rows = 13 cols = 40 name = 'TextCode' >")
						document.write("Loop:	ld r1, 0(r14);\n")
						document.write("	ld r2,0(r13);\n")
						document.write("	add r4,r3,r1;\n")
						document.write("	add r5,r5,r4;\n")
						document.write("	addi r14,r14,8;\n")
						document.write("	addi r13,r13,8;\n")
						document.write("	subi r15,r15,1;\n")
						document.write("	beq r15,r12,Loop;\n")
						document.write("</textarea>")
						document.write("</td>")
						document.write("</tr>")
						document.write("<tr>")
						document.write("<td colspan = 6 align = 'center'>")
						document.write("<font color = 6C7B8B> xxxx </font>")
						document.write("</td>")
						document.write("</tr>")
						document.write("<tr>")
						document.write("<td colspan = 6 align = 'center'>")
						document.write("<input type = 'button' value = 'Select instructions from list' onClick='loadtable()'>")
						document.write("</input>")
						document.write("</td>")
						document.write("</tr>")
					}
				document.write("</table>")
				document.write("<table border='0' cellspacing='0' cellpadding='0' width='50%' align = 'right'>")
				document.write("<tr align = 'center'>")
				document.write("<td>")
				document.write("</td>")
				document.write("<td colspan = '2'>")
				document.write("Enter the latency of the instructions")
				document.write("</td>")
				document.write("<td width = '80' align = 'right'>")
				document.write("</td>")
				document.write("</tr>")
				document.write("<tr align = 'center'>")
				document.write("<td width = '80' align = 'center'>")
				document.write("<font color = '6C7B8B'>xx</font>")
				document.write("</td>")
				document.write("<td colspan = '2'  align = 'center'>")
				document.write("<font color = '6C7B8B'>xx</font>")
				document.write("</td>")
				document.write("</tr>")
				document.write("<tr >")
				document.write("<td>")
				document.write("</td>")
				document.write("<td align = 'center'>")
				document.write("Instruction")
				document.write("</td>")
				document.write("<td align = 'center'>")
				document.write("Latency")
				document.write("</td>")
				document.write("<td width = '80' align = 'right'>")
				document.write("</td>")
				document.write("</tr>")
				document.write("<td colspan = '4'  align = 'center'>")
				document.write("<font color = '6C7B8B'>xx</font>")
				document.write("</td>")
				for(i = 0;i<=MaxInstructions;i++)
					{
						if(ListOfInstructions[i] != "END")
							{
								document.write("<tr align = 'center'>")
								document.write("<td width = '40' >")
								document.write("</td>")
								document.write("<td>")
								document.write(ListOfInstructions[i])
								document.write("</td>")
								document.write("<td>")
								document.write("<input name = 'Lat")
								document.write(ListOfInstructions[i])
								if(DefaultLatencies[i] == "")
									{
										document.write("' type = 'text' maxlength = '1' size = '1'>")
									}
								else
									{
										document.write("' type = 'text' maxlength = '1' size = '1' value = '")
										document.write(DefaultLatencies[i])
										document.write("'>")
									}
								document.write("</input>")
								document.write("</td>")
								document.write("</tr>")
							}
					}
				function loadmain()
					{
						window.location = "Loop_Unroll.html"
					}

				document.write("</table>")
				document.write("</table>")
				document.write("</td>")
				document.write("</tr>")
				document.write("<tr align = 'center'>")
  				document.write("<td align = 'center'>")
				document.write("<table align = 'left' widtcellspacing = '0' width = '100%' cellpadding = '10' border = '0'>")
				document.write("<tr align = 'center'>")
				document.write("<td>")
				document.write("</td>")
				<!--document.write("</tr>")-->
				<!--document.write("<tr align = 'center'>")-->
				<!--document.write("<td>")-->
				<!--document.write("<input type = 'button' value = 'Back to first page' onClick = 'loadmain()'>")-->
				<!--document.write("</input>")-->
				<!--document.write("</td>")-->
				<!--document.write("</tr>")-->
				<!--document.write("<tr>")-->
				<!--document.write("<td colspan = '16' align = 'center'>")-->
				<!--document.write("Please enter of the register values before entering the loop")-->
				<!--document.write("</td>")-->
				<!--document.write("</tr>")-->
				<!--document.write("<tr align = 'center'>")-->

				<!--for(i = 0;i<=15;i++)-->
					<!--{-->
						<!--document.write("<td align = 'center'>")-->
						<!--document.write("R"+i+"<BR>")-->
						<!--document.write("<input name = 'RInit")-->
						<!--document.write(i)
						<!--document.write("' type = 'text' maxlength = '2' size = '2'")-->
						<!--if(InitalRegValues[i] != "u")-->
							<!--{ -->
								<!--document.write(" value = '"+InitalRegValues[i]+"'")-->
							<!--}-->
						<!--document.write(">")-->
						<!--document.write("</input>")-->
						<!--document.write("</td>")-->
					<!--}-->

				<!--document.write("</tr>")-->
				document.write("<tr>")
				document.write("<td  colspan = '16' align = 'center'>")
				document.write("<input type = 'submit'  value = 'UNROLL'>")
				document.write("</input>")
  				document.write("</td>")
				document.write("</tr>")
				document.write("</table>")
			}
		document.write("</form>")
	var Label = new Array(1)
	var	Opr = new Array(1)
    var Dest = new Array(1)
    var Src1  = new Array(1)
    var Src2 = new Array(1)
    var Imm = new Array(1)
	var InstrAddress = new Array(1)
	var LatOp = new Array(1)
	var LatVal = new Array(1)
	var NumUnroll
	if(WebPageId == "ParseText")
		{
		var Instrs
		var Line = "x"
		var oprands
		NumUnroll = parseInt(QueryString.substring(QueryString.indexOf('=')+1,QueryString.indexOf('&')))
		QueryString = QueryString.substring(QueryString.indexOf('&')+1,QueryString.length)
		var Instructions = QueryString.substring(QueryString.indexOf('=')+1,QueryString.indexOf('&'))
		QueryString = QueryString.substring(QueryString.indexOf('&')+1,QueryString.length)
		function RemoveLeadingSpaces()
			{
				var leng = Line.length
				for(ind = 0;ind<leng;)
					{
						if(Line.substring(ind,ind+1) == "%")
							{
								ind = ind+3
							}
						else if(Line.substring(ind,ind+1) == "+")
							{
								ind = ind+1
							}
						else
							{
								break
							}
					}
				Line = Line.substring(ind,Line.length)
			}
		function LoadOprands()
			{
				var Inst
				if((Line.indexOf("+") < Line.indexOf("%")) &&(Line.indexOf("+") != -1)&&(Line.indexOf("%") != -1))
					{
						oprands = Line.substring(0,Line.indexOf("+"))
						Inst = Line.substring(Line.indexOf("+")+1,Line.length)
						Line = Inst
					}
				else
					{
						oprands = Line.substring(0,Line.indexOf("%"))
						Inst = Line.substring(Line.indexOf("%"),Line.length)
						Line = Inst
					}
			}

			var tmpinstr
			var	indx = 0
			while(Instructions.indexOf("%3B") != -1)
			{
				Line = Instructions.substring(0,Instructions.indexOf("%3B")+3)
				RemoveLeadingSpaces()
				tempinstr = Instructions.substring(Instructions.indexOf("%3B")+3,Instructions.length)
				Instructions = tempinstr
				if(Line.indexOf("%3A") != -1)
					{
						Label[indx] = Line.substring(0,Line.indexOf("%3A"))
						Line = Line.substring(Line.indexOf("%"),Line.length)
						RemoveLeadingSpaces()
					}
				else
					{
						Label[indx] = "NA"
					}
				if(Line.indexOf("END") != -1)
					{
						Opr[indx] = "END"
						Src1[indx] = "NA"
						Src2[indx] = "NA"
						Dest[indx] = "NA"
						Imm[indx] = "NA"
						InstrAddress[indx] = indx
						indx++
					}
				else if(Line.indexOf("nop") == -1)
					{
						LoadOprands()
						InstrAddress[indx] = indx
						Opr[indx] = oprands
						RemoveLeadingSpaces()
						if(Opr[indx] == "ld" || Opr[indx] == "st" || Opr[indx] == "St" || Opr[indx] == "Ld")
							{
								if(Opr[indx] == "Ld")
									{
										Opr[indx] = "ld"
									}
								if(Opr[indx] == "St")
									{
										Opr[indx] = "st"
									}
								if(Opr[indx] == "ld")
									{
										LoadOprands()
										Dest[indx] = oprands
										RemoveLeadingSpaces()
										Src2[indx] = "NA"
										LoadOprands()
										Imm[indx] = oprands
										RemoveLeadingSpaces()
										LoadOprands()
										Src1[indx] = oprands
										RemoveLeadingSpaces()
									}
								else
									{
										LoadOprands()
										Src1[indx] = oprands
										RemoveLeadingSpaces()
										Dest[indx] = "NA"
										LoadOprands()
										Imm[indx] = oprands
										RemoveLeadingSpaces()
										LoadOprands()
										Src2[indx] = oprands
										RemoveLeadingSpaces()
									}
							}
						else if(Opr[indx] == "Beq" || Opr[indx] == "Bne" || Opr[indx] == "beq" || Opr[indx] == "bne")
							{
								if(Opr[indx] == "Beq")
									{
										Opr[indx] = "beq"
									}
								Dest[indx] = "NA"
								LoadOprands()
								Src1[indx] = oprands
								RemoveLeadingSpaces()
								LoadOprands()
								Src2[indx] = oprands
								RemoveLeadingSpaces()
								LoadOprands()
								Imm[indx] = oprands
								RemoveLeadingSpaces()
							}
						else if(Opr[indx] == "Bnz" || Opr[indx] == "Bez" || Opr[indx] == "bez" || Opr[indx] == "bnz")
							{
								Dest[indx] = "NA"
								Src2[indx] = "NA"
								LoadOprands()
								Src1[indx] = oprands
								RemoveLeadingSpaces()
								LoadOprands()
								Imm[indx] = oprands
								RemoveLeadingSpaces()
							}
						else
							{
								LoadOprands()
								Dest[indx] = oprands
								RemoveLeadingSpaces()
								LoadOprands()
								Src1[indx] = oprands
								RemoveLeadingSpaces()
								if(Opr[indx].substring(Opr[indx].length-1,Opr[indx].length) == 'i')
									{
										Src2[indx] = "NA"
										LoadOprands()
										Imm[indx] = oprands
										RemoveLeadingSpaces()
									}
								else
									{
										LoadOprands()
										Src2[indx] = oprands
										RemoveLeadingSpaces()
										Imm[indx] = "NA"
									}
							}
						indx++
					}
			}

		var TempString
		var ininx = 0
		var TempReg
		var Latindex = 0
		while(QueryString.length != 0)
			{
				TempString = QueryString.substring(0,QueryString.indexOf("&"))
				QueryString = QueryString.substring(QueryString.indexOf("&")+1,QueryString.length)
				if(TempString.indexOf("Lat") != -1)
					{
						TempReg = TempString.substring(TempString.indexOf("Lat")+3,TempString.indexOf("="))
						LatOp[Latindex] = TempReg
						LatVal[Latindex] = parseInt(TempString.substring(TempString.indexOf("=")+1,TempString.length))
						Latindex ++
					}
<!--				else if(TempString.indexOf("RInit") != -1) -->
<!--					{-->
<!--						if(((TempString.substring(TempString.indexOf("=")+1,TempString.length))) != "")-->
<!--							{-->
<!--					   			InitalRegValues[ininx] = parseInt(((TempString.substring(TempString.indexOf("=")+1,TempString.length))))-->
<!--							}-->
<!--						else-->
<!--							{-->
<!--								InitalRegValues[ininx] = 'x'-->
<!--							}-->
<!--						ininx++-->
<!--					}-->
			}
		LatNumOpr = Latindex;
		for(i = 0;i<indx;i++)
			{
				if((Opr[i] == "Beq" || Opr[i] == "Bne" || Opr[i] == "beq" || Opr[i] == "bne")||(Opr[i] == "Bnz" || Opr[i] == "Bez" || Opr[i] == "bez" || Opr[i] == "bnz"))
					{
						for(j = 0;j<=indx;j++)
							{
								if(Imm[i] == Label[j])
									{
										Imm[i] = j+1
										Label[j] = j+1
										break
									}
							}
					}
			}

		InstrAddress[indx] = indx
		Label[indx] = "NA"
		Opr[indx] = "DUM"
		Dest[indx] = "RD"
		Src1[indx] = "RD"
		Src2[indx] = "RD"
		Imm[indx] = "NA"
		indx++
		NumOpr = indx
<!--	for(i = 0;i<indx;i++) -->
<!--			{-->
<!--				document.write("Instr_address  "+InstrAddress[i]+"Label::"+Label[i]+"___Opr::"+Opr[i]+"___Src1::"+Src1[i]+"___Src2::"+Src2[i]+"___Immediate::"+Imm[i]+"<BR>")-->
<!--			}-->
		WebPageId = "ShowUnroll"
	}
if(WebPageId == "ParseTable")
		{
			QueryString = QueryString.substring(QueryString.indexOf("?")+1,QueryString.length)
			Index = -1;
			LatIndex = -1;
			while(QueryString.length > 1)
				{
					Query = QueryString.substring(0,QueryString.indexOf("&"))
					QueryString = QueryString.substring(QueryString.indexOf("&")+1,QueryString.length)
 					QueryVar = Query.substring(0,Query.indexOf("="))
					QueryVal = Query.substring(Query.indexOf("=")+1,Query.length)
					if(QueryVar == "ParseTable")
						{
							NumUnroll = parseInt(QueryVal,10)
						}
					if(QueryVar == "Ops")
						{
							Index++
							Opr[Index] = QueryVal
							InstrAddress[Index] = Index
						}
					if(QueryVar == "Regs1")
						{
							Dest[Index] = QueryVal
						}
					if(QueryVar == "Regs2")
						{
							Src1[Index] = QueryVal
						}
					if(QueryVar == "Regs3")
						{
							if(QueryVal != "IM")
								{
									Src2[Index] = QueryVal
								}
							else
								{
									Src2[Index] = "NA"
								}
						}
					if(QueryVar == "Imm")
						{
							if(QueryVal != "")
								{
									Imm[Index] = QueryVal;
								}
							else
								{
									Imm[Index] = "NA"
								}
						}
					if(QueryVar.substring(QueryVar.indexOf("Lat"),QueryVar.indexOf("Lat")+3) == "Lat")
						{
							LatIndex++;
							LatOp[LatIndex] = QueryVar.substring(QueryVar.indexOf("Lat")+3,QueryVar.length)
							if(QueryVal == "")
								{
									LatVal[LatIndex] = 0
								}
							else
								{
									LatVal[LatIndex] = QueryVal
								}
						}
				}
			NumOpr = Index +2
			LatNumOpr = LatIndex + 1
			Opr[Index+1] = "DUM"
			Dest[Index+1] = "RD"
			Src1[Index+1] = "RD"
			Src2[Index+1] = "RD"
			Imm[Index+1] = "NA"
			for(i = 0;i<NumOpr;i++)
				{
					Label[i] = 'x'
				}
			for(i = 0;i<NumOpr;i++)
				{
					if(Opr[i].substring(0,1) == 'b')
						{
							Label[parseInt(Imm[i])-1] = Imm[i]
						}
				}
<!--			for(i = 0;i<NumOpr;i++) -->
<!--				{ -->
<!--					document.write("Label is "+Label[i]+"Opr::"+Opr[i]+"___Src1::"+Src1[i]+"___Src2::"+Src2[i]+"___Immediate::"+Imm[i]+"<BR>") -->
<!--				} -->
			WebPageId = "ShowUnroll"
		}
	if(WebPageId == "ShowUnroll")
		{
<!--		document.write("NUMOPR IS "+NumOpr+"<BR>") -->
			<!--This function will display the  loop with the stalls -->
			function DispLoopStalls()
			<!-- Values passed to the function-->
			<!-- NumOpr: Contains the total number of instructions in the code-->
			<!-- LatNumOpr: Contains the number of latency values of the code-->
			<!-- Opr: List of opcodes of the code in the correct order-->
			<!-- Dest: List of the destination registers -->
			<!-- Scr1: List of source registers-->
			<!-- Scr2: List of source registers -->
				{
					var Counter = new Array(NumOpr+1)
					var InstrPos = new Array(NumOpr+1)
					for(i=0;i<NumOpr;i++)
						{
							InstrPos[i] = i+1;
						}
						for(i=0;i<NumOpr-1;i++)
							{
								for(j=0;j<LatNumOpr;j++)
									{
										if(Opr[i] == LatOp[j])
											{
												Counter[i] = LatVal[j];
												break;
											}
									}
							}
						var DestRegs = new Array(1)
						var DestRegIndex=0
						var tempDest
						var shift = 0
						var tempshift
						var Branchpos = new Array(1)
						var bpind;
						bpind = 0
						for(i=0;i<NumOpr;i++)
							{
						 		tempDest = Dest[i]
						 		tempSrc1 = Src1[i]
						 		tempSrc2 = Src2[i]
								shift = 0
								for(j=i+1;j<NumOpr;j++)
									{
										if((tempDest != "NA" && (Src1[j] == tempDest || Src2[j] == tempDest || Dest[j] == tempDest)) || (tempSrc1 != "NA" && tempSrc1 == Dest[j]) || (tempSrc2 != "NA" && tempSrc2 == Dest[j]) || (Opr[i].substring(0,1) == "b" && (Opr[j] == "DUM" || Opr[j] == "END")))
											{
												tempshift = Counter[i]-(InstrPos[j]-InstrPos[i]+shift)+1
						  						if(tempshift > 0)
													{
														shift += tempshift
													}
											}
										if(shift > 0)
											{
												InstrPos[j] = InstrPos[j] + shift
											}
										if(Opr[i].substring(0,1) == "b")
											{
												Branchpos[bpind] = i
												bpind++
											}
									}
							}
<!--					document.write("bpind is"+bpind+"  "+i+"<BR>") -->
						for(j = 0;j<bpind;j++)
							{
<!--								document.write("Branchpos is "+(parseInt(Branchpos[j])+1)+"  "+Opr[parseInt(Branchpos[j])+1]+"<BR>") -->
								if(InstrPos[parseInt(Branchpos[j])+1] - InstrPos[parseInt(Branchpos[j])] > 1 && (Opr[parseInt(Branchpos[j])+1] != "END" && Opr[parseInt(Branchpos[j])+1] != "DUM"))
									{
										InstrPos[parseInt(Branchpos[j])] = InstrPos[parseInt(Branchpos[j])+1]-1
									}
							}
					var PutStalls = 0
					j = 1
					l = 0
					document.write("<table width = '25%' align = 'Center' cellspacing = '0' border = '0'>")
					for(i=0;i<NumOpr;i++)
						{
							k=0;
							while(j != InstrPos[i] && k < 10)
								{
									k++
									j++
									document.write("<tr align = 'center'>")
									document.write("<td>")
									document.write("</td>")
									document.write("<td  colspan = '4'>")
  									document.write("STALL CYCLE  #"+k)
									document.write("</td>")
									document.write("</tr>")
								}
							if(Opr[i] == "END")
								{
									break;
								}

							if(Opr[i] != "DUM" && Opr[i] != "END")
								{
									if(Opr[i] != "ld" && Opr[i] != "st")
										{
											j++
											l++
											document.write("<tr align = 'center'>")
											document.write("<td>")
											document.write(l)
											document.write("</td>")
											document.write("<td>")
											document.write(Opr[i])
											document.write("</td>")
											if(Dest[i] != "NA")
												{
													document.write("<td>")
													document.write(Dest[i]+",")
													document.write("</td>")
												}
											document.write("<td>")
											document.write(Src1[i]+",")
											document.write("</td>")
											if(Src2[i] != "NA")
												{
													document.write("<td>")
													document.write(Src2[i]+";")
													document.write("</td>")
												}
											if(Imm[i] != "NA")
												{
													document.write("<td>")
													document.write(Imm[i]+";")
													document.write("</td>")
												}
											document.write("</tr>")
										}
									else
										{
											j++
											l++
											document.write("<tr align = 'center'>")
											document.write("<td>")
											document.write(l)
											document.write("</td>")
											document.write("<td>")
											document.write(Opr[i])
											document.write("</td>")
											if(Opr[i] == "ld")
												{
													document.write("<td>")
													document.write(Dest[i]+",")
													document.write("</td>")
													document.write("<td colspan = 2>")
													document.write(Imm[i])
													document.write("("+Src1[i]+");")
													document.write("</td>")
													document.write("</tr>")
												}
											else
												{
													document.write("<td>")
													document.write(Src1[i]+",")
													document.write("</td>")
													document.write("<td colspan = 2>")
													document.write(Imm[i])
													document.write("("+Src2[i]+");")
													document.write("</td>")
													document.write("</tr>")
												}
										}
								}
						}
<!--				document.write("<tr align = 'center'>") -->
<!--				document.write("<td>")-->
<!--				document.write(l+1)-->
<!--				document.write("</td>")-->
<!--				document.write("<td colspan = '4'>")-->
<!--				document.write("END")-->
<!--				document.write("</td>")-->
<!--				document.write("</tr>")-->
					TotalCycles = j-1
					document.write("</table>")
					document.write("TOTAL TIME TAKEN BY THE LOOP = "+TotalCycles+" Cycles <BR>")
				}

		<!------------------------------------------------------------------>
		<!------------------------------------------------------------------>
		<!------------------------------------------------------------------>
		<!-- This part of the code will Unroll the loop and display the unrolled loop -->
		<!-- Display the original loop-->
		document.write("<center>THE ORIGINAL LOOP <BR></center>")
<!--			document.write("NUMOPR IS "+NumOpr+"<BR>")-->
<!--			for(i= 0;i<NumOpr-1;i++)-->
<!--				{-->
<!--					document.write("the instruction address is "+InstrAddress[i]+" for "+i+" and "+Opr[i]+"<BR>")-->
<!--				}-->
			for(i = 0;i<NumOpr-1;i++)
				{
					if(Dest[i] != 'NA' && RegisterStatus[parseInt(Src1[i].substring(1,Dest[i].length))] == 'z')
						{
							RegisterStatus[parseInt(Src1[i].substring(1,Dest[i].length))] = 'x';
						}
				}

					DispLoopStalls()
					TotalCycles = TotalCycles.toFixed(2)
					document.write("TOTAL NUMBER OF CYCLES PER ITERATION = "+TotalCycles+"<BR>")
					document.write("========================================================================================================<BR>")
				<!-- This code will perform the GCD test on the loop -->
			var LoadRegs = new Array (1)
			var Loadinstnum = new Array(1)
			var loadregsindx = 0
			var StoreRegs = new Array(1)
			var Storeinstnum = new Array(1)
			var storeregsindx = 0
			var a = new Array(1)
			var b = new Array(1)
			var c = new Array(1)
			var d = new Array(1)
			for(i =0;i<NumOpr-1;i++)
				{
					if(Opr[i] == "ld")
						{
							c[loadregsindx] = 0;
							d[loadregsindx] = 0;
							for(j =0;j<i;j++)
								{
									if(Dest[j] == Src1[i])
										{
											if(Opr[j] == 'addi')
												{
													d[loadregsindx] = parseInt(parseInt(d[loadregsindx]) + parseInt(Imm[j]));
												}
											else if(Opr[j] == 'subi')
												{
													d[loadregsindx] = parseInt(parseInt(d[loadregsindx]) - parseInt(Imm[j]));
												}
										}
								}
							d[loadregsindx] = parseInt(parseInt(d[loadregsindx]) + parseInt(Imm[i]))
							LoadRegs [loadregsindx] = Src1[i]
							Loadinstnum[loadregsindx] = i
							for(j = i+1;j<NumOpr;j++)
								{
									if(Dest[j] == Src1[i])
										{
											if(Opr[j] == 'addi')
												{
													c[loadregsindx] = parseInt(parseInt(c[loadregsindx]) + parseInt(Imm[j]));
												}
											else if(Opr[j] == 'subi')
												{
													c[loadregsindx] = parseInt(parseInt(c[loadregsindx]) - parseInt(Imm[j]));
												}
										}
								}
							loadregsindx++
						}
					if(Opr[i] == "st")
						{
							a[storeregsindx] = 0;
							b[storeregsindx] = 0;
							for(j =0;j<i;j++)
								{
									if(Dest[j] == Src2[i])
										{
														document.write("source 2 is "+Src2[i]+"<BR>")

											if(Opr[j] == 'addi')
												{
													b[storeregsindx] = parseInt(parseInt(b[storeregsindx]) + parseInt(Imm[j]));
												}
											else if(Opr[i] == 'subi')
												{
													b[storeregsindx] = parseInt(parseInt(b[storeregsindx]) - parseInt(Imm[j]));
												}
										}
								}
							b[storeregsindx] = parseInt(parseInt(b[storeregsindx]) + parseInt(Imm[i]))
							StoreRegs[storeregsindx] = Src2[i];
							Storeinstnum[storeregsindx] = i
							for(j = i+1;j<NumOpr;j++)
								{
									if(Dest[j] == Src2[i])
										{
											if(Opr[j] == 'addi')
												{
													a[storeregsindx] = parseInt(parseInt(a[storeregsindx]) + parseInt(Imm[j]));
												}
											else if(Opr[j] == 'subi')
												{
													a[storeregsindx] = parseInt(parseInt(a[storeregsindx]) - parseInt(Imm[j]));
												}
										}
								}
							storeregsindx++
						}
				}
				function hcf(num1,num2)
					{
						var gcd=1;
				  		if (num1>num2)
				  			{
				  				num1=num1+num2;
				  				num2=num1-num2;
				  				num1=num1-num2;
				  			}
				  		if ((num2==(Math.round(num2/num1))*num1))
				  			{
				  				gcd=num1
				  			}
				  		else
				  			{
				   				for (var i = Math.round(num1/2) ; i > 1; i=i-1)
				   					{
										if ((num1==(Math.round(num1/i))*i))
											{
					 							if ((num2==(Math.round(num2/i))*i))
					 								{
					 									gcd=i;
					 									i=-1;
					 								}
					 						}
				   					}
				  			}
				  		return gcd;
					}
<!--		for(i = 0;i<loadregsindx;i++)  -->
<!--			{-->
<!--				document.write("Load regs is "+LoadRegs[i]+" c[i] = "+c[i]+" d[i] = "+d[i]+" ---- "+Loadinstnum[i]+"<BR>")-->
<!--			}-->
<!--		for(i = 0;i<storeregsindx;i++)-->
<!--			{-->
<!--				document.write("Store regs is "+StoreRegs[i]+" a[i] = "+a[i]+" b[i] = "+b[i]+"===="+Storeinstnum[i]+"<BR>")-->
<!--			}-->

				var gcdpassed = 1

				var register
				var ldindx
				var stindx

				for(i =0;i<NumOpr-1;i++)
					{
						if(Opr[i] == "ld")
							{
								register = Dest[i]
								for(j =i+1;j<NumOpr-1;j++)
									{
										if (Opr[j] != "st")
											{
												if(Src1[j] == register || Src2[j] == register)
													{
														register = Dest[j]
													}
												else if(Dest[j] == register)
													{
														break
													}
											}
										else
											{
												for(k = 0;k<storeregsindx;k++)
													{
														if(StoreRegs[k] == Src2[j] && Storeinstnum[k] == j)
															{
																stindx = k
																break
															}

													}
												for(k = 0;k<loadregsindx;k++)
													{
														if(LoadRegs[k] == Src1[i] && Loadinstnum[k] == i)
															{
																ldindx = k
																break
															}

													}
												if((LoadRegs[ldindx] == StoreRegs[stindx]))
													{
<!--													document.write("the load and store are "+ldindx+" and "+stindx+" for indexes "+i+" and "+j+"<BR>") -->
<!--													document.write("the difference is "+(parseInt(d[ldindx])- parseInt(b[stindx]))+" hcf is "+hcf(a[stindx],c[ldindx])+" and the ratio is "+(parseInt(parseInt(d[ldindx]) - parseInt(b[stindx]))%hcf(a[stindx],c[ldindx]))+"<BR>") -->
													}
												if((parseInt(parseInt(d[ldindx]) - parseInt(b[stindx]))%hcf(a[stindx],c[ldindx])) == 0 && (parseInt(parseInt(d[ldindx]) - parseInt(b[stindx])) != 0) && (LoadRegs[ldindx] == StoreRegs[stindx]))
													{
														gcdpassed = 0
														break
													}
												else
													{
													
														gcdpassed = 1
													}
											}
									}
							}
						if(gcdpassed == 0)
							{
								break
							}
					}
<!--				for(i = 0;i<loadregsindx;i++)  -->
<!--					{-->
<!--						for(j = 0;j<storeregsindx;j++)-->
<!--							{-->
<!--								if(LoadRegs[i] == StoreRegs[j])-->
<!--									{-->
<!--										if((parseInt(parseInt(d[i]) - parseInt(b[j]))%hcf(a[j],c[i])) == 0 &&(parseInt(parseInt(d[i]) - parseInt(b[j])) != 0))-->
<!--											{-->
<!--												gcdpassed = 0 -->
<!--												break-->
<!--											}-->
<!--										else-->
<!--											{-->
<!--												gcdpassed = 1-->
<!--											}-->
<!--									}-->
<!--							}-->
<!--						if(gcdpassed == 0)-->
<!--							{-->
<!--								break-->
<!--							}-->
<!--					}-->
				if(gcdpassed == 1)
					{
					<!-- This code will calculate the address bounds of the loop -->
						var LoopAddrBounds = new Array(2)
						for(i=0;i<NumOpr-1;i++)
							{
								if(Opr[i].substring(0,1) == "b")
									{
										if(InstrAddress[i] > (Imm[i]-1))
											{
												LoopAddrBounds[1] = i
												for(k=0;k<NumOpr-1;k++)
													{
														if(Imm[i] == (InstrAddress[k]+1))
															{
																LoopAddrBounds[0] = k
																break
															}
													}
												if(LoopAddrBounds[1] > LoopAddrBounds[0])
													{
					       								break
													}
											}
									}
							}
					<!-- These are the number of instructions in the loop-->
						var NumOfIns
						if(LoopAddrBounds[1] == LoopAddrBounds[2])
							{
								dispcond = 0;
							}
				        NumOfIns = LoopAddrBounds[1]-LoopAddrBounds[0]
					<!-- Making the copy of the loop instructions to unroll it -->
						OprPerm = new Array(1)
						DestPerm = new Array(1)
						Src1Perm = new Array(1)
						Src2Perm = new Array(1)
						ImmPerm = new Array(1)
						LabelPerm = new Array(1)

						for(i=LoopAddrBounds[0];i<=NumOpr+LoopAddrBounds[0];i++)
							{
								OprPerm[i]	=	Opr[i]
								DestPerm[i] =	Dest[i]
								Src1Perm[i] =	Src1[i]
								Src2Perm[i] =	Src2[i]
								ImmPerm[i]	=	Imm[i]
								LabelPerm[i] = Label[i]
							}
						NumUnroll++
						for(i=0;i<NumUnroll;i++)
							{
								for(j = LoopAddrBounds[0];j<NumOfIns+LoopAddrBounds[0];j++)
									{
										Opr[((i)*NumOfIns)+j]=OprPerm[j]
										Dest[((i)*NumOfIns)+j]=DestPerm[j]
										Src1[((i)*NumOfIns)+j]=Src1Perm[j]
										Src2[((i)*NumOfIns)+j]=Src2Perm[j]
										if(j != LoopAddrBounds[0])
											{
												Label[((i)*NumOfIns)+j]=LabelPerm[j]
											}
										Imm[((i)*NumOfIns)+j]=ImmPerm[j]
										InstrAddress[((i)*NumOfIns)+j] = parseInt((i*NumOfIns))+j+1
									}
								if(i != NumUnroll-1)
									{
										Label[((i+1)*NumOfIns)] = Label[NumOfIns+LoopAddrBounds[0]]
									}
							}

						LoopAddrBounds[1] = (NumUnroll) * NumOfIns
						for(j =0 ;j<NumOpr-NumOfIns;j++)
							{
								Opr[(NumUnroll*NumOfIns) + j] =OprPerm[NumOfIns + j]
								Dest[(NumUnroll*NumOfIns) + j]=DestPerm[NumOfIns + j]
								Src1[(NumUnroll*NumOfIns) + j]=Src1Perm[NumOfIns + j]
								Src2[(NumUnroll*NumOfIns) + j]=Src2Perm[NumOfIns + j]
								Imm[(NumUnroll*NumOfIns) + j]=ImmPerm[NumOfIns + j]
								Label[(NumUnroll*NumOfIns) + j]=LabelPerm[NumOfIns + j]
								InstrAddress[(NumUnroll*NumOfIns) + j]=NumUnroll*NumOfIns+1+j
							}
						NumOpr = ((NumUnroll-1)*NumOfIns+NumOpr)
						var prevlabel = 0;
						for(i = 0; i< NumOpr;i++)
							{
								if(Label[i] != 'NA')
									{
										for(j = prevlabel;j<i;j++)
											{
												if(parseInt(Label[i]) == Imm[j] && Opr[j].substring(0,1) == 'b')
													{
														Imm[j] = i+1
													}
											}
										prevlabel = i
										Label[i] = i+1
									}
							}

			if(dispcond == 1)
				{
					document.write("<center>THE UNROLLED LOOP <BR></center>")
					DispLoopStalls()
					CycPerItr = (TotalCycles/NumUnroll)
					CycPerItr = CycPerItr.toFixed(2)
					document.write("TOTAL NUMBER OF CYCLES PER ITERATION = "+CycPerItr+"<BR>")
					document.write("========================================================================================================<BR>")
				}
		<!-- Display the unrolled and just copied loop-->
			<!------------------------------------------------------------------>
			<!------------------------------------------------------------------>
			<!--This code will remove the extra loop index calculation instructions-->
			var Markins = new Array(NumOpr)
			var Temparray = new Array(NumOfIns)
		 	var temparrayindex = 0;
			var condition
			var tempreg
			var Immid

		<!-- Mark all the instructions whose destination register values are determined "d"-->
			for(i = 0;i<NumOfIns;i++)
				{
					Markins[i] = 0
					if(Opr[i] == "addi" || Opr[i] == "subi")
						{
							if(Src1[i] == Dest[i])
								{
									condition  = 1
									for(j = i+1;j<NumOfIns;j++)
										{
											if(Src1[j] == Dest[i] || Src2[j] == Dest[i])
												{
													Markins[i] == 0
													break
												}
											else
												{
													Markins[i] = 1
												}
										}
									if(i+1 == NumOfIns)
										{
											Markins[i] = 1
										}
									temparrayindex = 0
									for(j = 0;j<NumOfIns;j++)
										{
											if(j != i)
												{
													if((Src1[j] == Dest[i] && Opr[j] != "st")|| (Src2[j] == Dest[i] && Opr[j] == "st"))
														{
															if(Opr[j].substring(0,1) == "b" || Imm[j] == "NA")
																{
																	condition = 0
																	break
																}
															else
																{
																	Temparray[temparrayindex] = j
																	temparrayindex ++
																}
														}
												}
										}

									for(j = 0;j<NumOfIns;j++)
										{
											if(Dest[i] == "NA")
												{
													break
												}
											if(i != j )
												{
													if(Opr[j] == 'add' && Opr[j] == 'sub')
														{
															if(Dest[i] == Src1[j] || Dest[i] == Src2[j] )
																{
																	Markins[i] = 0
																	condition = 0
																	break
																}
														}
													if(Dest[i] == Dest[j])
														{
															Markins[i] = 0
															condition = 0
															break
														}
												}
										}
									if(condition == 1)
										{
											for(j = 0;j< temparrayindex;j++)
												{
													if(Opr[j].substring(0,1) != "b")
														{
															if(Temparray[j] < i)
																{
																	for(k = 1;k<NumUnroll;k++)
																		{
																			if(((Opr[i] == "addi" && Imm[i] > 0)||(Opr[i] == "addi" && Imm[i] < 0)))
																				{
																					Imm[Temparray[j]+(NumOfIns*k)] = parseInt(parseInt(Imm[Temparray[j]+(NumOfIns*k)])+(parseInt(Imm[i])*k))
																				}
																			else if(((Opr[i] == "subi" && Imm[i] > 0)||  (Opr[i] == "subi" && Imm[i] < 0)))
																				{
																					Imm[Temparray[j]+(NumOfIns*k)] = parseInt(parseInt(Imm[Temparray[j]+(NumOfIns*k)]))-(parseInt(Imm[i])*k)
																				}
																		}
																}
															else
																{
																	for(k = 0;k<NumUnroll-1;k++)
																		{
																			if(((Opr[i] == "addi" && Imm[i] > 0) || (Opr[i] == "addi" && Imm[i] < 0)))
																				{
																					Imm[Temparray[j]+(NumOfIns*k)] = parseInt(parseInt(Imm[Temparray[j]+(NumOfIns*k)]))+(parseInt(Imm[i])*(k+1))
																				}
																			else if(((Opr[i] == "subi" && Imm[i] > 0)|| (Opr[i] == "subi" && Imm[i] < 0)))
																				{
																					Imm[Temparray[j]+(NumOfIns*k)] = parseInt(parseInt(Imm[Temparray[j]+(NumOfIns*k)]))-(parseInt(Imm[i])*(k+1))
																				}
																		}
																}
														}
												}
										}
								}
						}
				}

			var ind1 = -1
			var ind2 = 0
			var lostinstrs = 0
			for(i = 0;i<NumUnroll;i++)
				{
					for(j = 0;j<NumOfIns;j++)
						{
							ind1++
							Opr[ind2] = Opr[ind1]
							Dest[ind2]=Dest[ind1]
							Src1[ind2]=Src1[ind1]
							Src2[ind2]=Src2[ind1]
							Imm[ind2] =Imm[ind1]
							Label[ind2] = Label[ind1]
							InstrAddress[ind2]=ind2
							if(i != NumUnroll-1)
								{
									if(Markins[j] == 0)
										{
											ind2++
										}
								}
							else
								{
									ind2++
								}
						}
				}
			ind1++
			for(;ind1<NumOpr;ind1++)
				{
					Opr[ind2] = Opr[ind1]
					Dest[ind2]=Dest[ind1]
					Src1[ind2]=Src1[ind1]
					Src2[ind2]=Src2[ind1]
					Imm[ind2] =Imm[ind1]
					Label[ind2] = Label[ind1]
					InstrAddress[ind2]=ind2
					ind2++
				}
			for(i = 0;i<ind2;i++)
			{
				if((Opr[i] == "Beq" || Opr[i] == "Bne" || Opr[i] == "beq" || Opr[i] == "bne")||(Opr[i] == "Bnz" || Opr[i] == "Bez" || Opr[i] == "bez" || Opr[i] == "bnz"))
					{
						for(j = 0;j<=ind2;j++)
							{
								if(Imm[i] == Label[j])
									{
										Imm[i] = j+1
										break
									}
							}
					}
			}
			LoopAddrBounds[1] = LoopAddrBounds[0] + ind2 -2
			NumOpr = ind2
			prevlabel = 0
				for(i = 0;i<NumOpr;i++)
				{
					if(Label[i] != 'x')
						{
							for(j = prevlabel;j<i;j++)
								{
									if(parseInt(Label[i]) == Imm[j] && Opr[j].substring(0,1) == 'b')
										{
											Imm[j] = i+1
										}
								}
							prevlabel = i;
							Label[i] = i+1
						}
				}
<!--		document.write("<center> THE UNROLLED AND REDUCED LOOP <BR></center>") -->
		<!--DispLoopStalls() -->
     	<!------------------------------------------------------------------>
		<!------------------------------------------------------------------>
			var MAXIndex = 0
			MAXIndex = NumOpr
			var DAG = new Array(MAXIndex)
			var TOPLIST = new Array(MAXIndex)
			var CurrentTime = -1;
			var EnteranceTime = new Array(MAXIndex);
			var IsItOnTop = new Array(MAXIndex);
			var IsItOnBot = new Array(MAXIndex);
			for(i = 0;i<MAXIndex;i++)
				{
					IsItOnTop[i] = 0
					IsItOnBot[i] = 0
					TOPLIST[i] = -1
					EnteranceTime[i] = 0;
					DAG[i] = new Array(2)
					DAG[i][0] = new Array(MAXIndex)
					DAG[i][1] = new Array(MAXIndex)
					for(j = 0;j<MAXIndex;j++)
						{
							DAG[i][0][j] = new Array(2)
							DAG[i][0][j] = new Array(2)
							DAG[i][1][j] = new Array(2)
							DAG[i][1][j] = new Array(2)
							DAG[i][0][j][0] = -1
							DAG[i][0][j][1] = -1
							DAG[i][0][j][0] = -1
							DAG[i][0][j][1] = -1
							DAG[i][1][j][0] = -1
							DAG[i][1][j][1] = -1
							DAG[i][1][j][0] = -1
							DAG[i][1][j][1] = -1
						}
				}
			var TempDest
			var TempSrc1
			var TempSrc2
			var p = 0
			for(i = 0;i<MAXIndex;i++)
				{
					TempDest = Dest[i]
					TempSrc1 = Src1[i]
					TempSrc2 = Src2[i]
					p = 0
					for(j = i-1;j>=0;j--)
						{
							if(TempDest != "NA" && TempDest == Dest[j])
								{
									break
								}
							else
								{
									if(TempSrc1 != "NA"&& TempSrc1 == Dest[j])
										{
											DAG[i][0][p][0] = j
											for(k=0;k<LatNumOpr;k++)
												{
													if(Opr[j] == LatOp[k])
														{
															DAG[i][0][p][1] = LatVal[k]
															break;
														}
												}
											p++
										}
									p = 0
									if(TempSrc2 != "NA" && TempSrc2 == Dest[j])
										{
											DAG[i][0][p][0] = j
											for(k=0;k<LatNumOpr;k++)
												{
													if(Opr[j] == LatOp[k])
														{
															DAG[i][0][p][1] = LatVal[k]
															break;
														}
												}
											p++
										}
								}
						}

					p = 0
					for(j = i+1;j<NumOpr;j++)
						{
							if(TempDest != "NA"&& (TempDest == Src1[j] || TempDest== Src2[j]))
								{
									DAG[i][1][p][0] = j
									for(k=0;k<LatNumOpr;k++)
										{
											if(Opr[i] == LatOp[k])
												{
													DAG[i][1][p][1] = LatVal[k]
													break;
												}
										}
									p++
								}
							if(TempDest != "NA" && TempDest== Dest[j])
								{
									break
								}
						}
				}
			for(i = 0;i<MAXIndex;i++)
				{
					for(i = 0;i<MAXIndex;i++)
						{
							p = 0
							for(j = MAXIndex-1;j>=0;j--)
								{
									if(DAG[i][0][j][0] != -1)
										{
											p++
										}
								}
							IsItOnTop[i] = p
						}
				}

			<!-- document.write("THE GRAPH IS <BR>"); -->
			<!--for(i = 0;i<MAXIndex;i++)-->
			<!--{-->
			<!--  for(j = MAXIndex-1;j>=0;j--)-->
			<!--  {-->
			<!--    if(DAG[i][0][j][0] != -1)-->
			<!--    {-->
			<!--      document.write(",,");   -->
			<!--      document.write(DAG[i][0][j][0]); -->
			<!--      document.write(" "); -->
			<!--      document.write(DAG[i][0][j][1]); -->
			<!--      document.write(",,"); -->
			<!--    } -->
			<!--  } -->
			<!--  document.write("||||"); -->
			<!--  document.write(i); -->
			<!--  document.write("||||"); -->
			<!--  for(j = 0;j<MAXIndex;j++) -->
			<!--  { -->
			<!--    if(DAG[i][1][j][0]== -1) -->
			<!--    { -->
			<!--      break -->
			<!--    } -->
			<!--    document.write(",,"); -->
			<!--    document.write(DAG[i][1][j][0]); -->
			<!--    document.write(" "); -->
			<!--    document.write(DAG[i][1][j][1]); -->
			<!--    document.write(",,"); -->
			<!--  } -->
			<!--  document.write("....") -->
			<!--  document.write(IsItOnTop[i]) -->
			<!--  document.write("<BR>"); -->
			<!--} -->
			<!---------------------------------------------------------------------------------------------------->
			<!-- This code will do the register renaming operation -->
			var DestRegsUsed = new Array(MAXNumOfRegs)
			for(i = 0;i<MAXNumOfRegs;i++)
				{
					DestRegsUsed[i] =  new Array(4)
					DestRegsUsed[i][0] = 0
					DestRegsUsed[i][1] = "x"
					DestRegsUsed[i][2] = "x"
					DestRegsUsed[i][3] = -1
				}
			var tempDest
			var tempSrc1
			var tempSrc2
			for(i = 0;i<NumOpr-1;i++)
				{
					Markins[i] = -1
					if(Dest[i] != "NA")
						{
							tempDest = parseInt(Dest[i].substring(1,Dest[i].length))
						}
					else
						{
							tempDest = -1
						}
					if(Src1[i] != "NA")
						{
							tempSrc1 = parseInt(Src1[i].substring(1,Src1[i].length))
						}
					else
						{
							tempSrc1 = -1
						}
					if(Src2[i] != "NA")
						{
							tempSrc2 = parseInt(Src2[i].substring(1,Src2[i].length))
						}
					else
						{
							tempSrc2 = -1
						}
					if(tempSrc1 != -1 )
						{
							if(DestRegsUsed[tempSrc1][1] == "x")
								{
									DestRegsUsed[tempSrc1][1] = "r"
								}
						}
					if(tempSrc2 != -1 )
						{
							if(DestRegsUsed[tempSrc2][1] == "x")
								{
									DestRegsUsed[tempSrc2][1] = "r"
								}
						}
					if(tempDest != -1 )
						{
							if(DestRegsUsed[tempDest][1] == "x")
								{
									DestRegsUsed[tempDest][1] = "w"
								}
						}
					if(tempSrc1 != -1 )
						{
							DestRegsUsed[tempSrc1][2] = "r"
							DestRegsUsed[tempSrc1][0] = 1
						}
					if(tempSrc2 != -1 )
						{
							DestRegsUsed[tempSrc2][2] = "r"
							DestRegsUsed[tempSrc2][0] = 1
						}
					if(tempDest != -1 )
						{
							DestRegsUsed[tempDest][2] = "w"
							if(DestRegsUsed[tempDest][1] == "r")
								{
									DestRegsUsed[tempDest][3] = i
								}
							DestRegsUsed[tempDest][0] = 1
						}
				}

			k = 0
			for(i = 0;i<NumOpr;i++)
				{
					if(Opr[i] == "DUM")
						{
							Markins[i] = 0
						}
					else
						{
							if(Dest[i] != "NA")
								{
									tempDest = parseInt(Dest[i].substring(1,Dest[i].length))
								}
							else
								{
									Markins[i] = 0
									continue
								}
							if(DestRegsUsed[tempDest][0] == 1)
								{
									DestRegsUsed[tempDest][0] = 2
									Markins[i] = 0
								}
							else if(DestRegsUsed[tempDest][0] == 2)
								{
									Markins[i] = 1
									if(DestRegsUsed[tempDest][3] != -1)
										{
											Markins[DestRegsUsed[tempDest][3]] = 0
										}
								}
							else
								{
									Markins[i] = 0
								}
						}
				}

			for(i = 0;i<NumOpr;i++)
				{
					if(Markins[i] == 1)
						{
							while(k<MAXNumOfRegs)
								{
									if(DestRegsUsed[k][0] == 2 || DestRegsUsed[k][0] == 1)
										{
											k++
										}
									else
										{
											break
										}
								}
							DestRegsUsed[k][0] = 2
							for(j=0;j<MAXIndex;j++)
								{
									if(DAG[i][1][j][0] == -1)
										{
											break
										}
									else
										{
											if(Dest[i] == Src1[DAG[i][1][j][0]])
												{
													Src1[DAG[i][1][j][0]] = "r"+k
												}
											if(Dest[i] == Src2[DAG[i][1][j][0]])
												{
													Src2[DAG[i][1][j][0]] = "r"+k
												}
											DAG[i][1][j][0] = -1
											DAG[i][1][j][1] = -1
										}
								}
							Dest[i] = "r"+k
						}
				}
				
			if(dispcond == 1)
				{
					document.write("<center> THE LOOP AFTER REGISTER RENAMING  LOOP <BR></center>")
					DispLoopStalls()
					CycPerItr = (TotalCycles/NumUnroll)
					CycPerItr = CycPerItr.toFixed(2)
					document.write("TOTAL NUMBER OF CYCLES PER ITERATION = "+CycPerItr+"<BR>")
					document.write("========================================================================================================<BR>")
				}
			<!------------------------------------------------------------------>
			<!------------------------------------------------------------------>
			<!--This will form the graph of the renamed code-->
			<!------------------------------------------------------------------>
			for(i = 0;i<MAXIndex;i++)
				{
					IsItOnTop[i] = 0
					TOPLIST[i] = -1
					EnteranceTime[i] = 0;
					DAG[i] = new Array(2)
					DAG[i][0] = new Array(MAXIndex)
					DAG[i][1] = new Array(MAXIndex)
					for(j = 0;j<MAXIndex;j++)
						{
							DAG[i][0][j] = new Array(2)
							DAG[i][0][j] = new Array(2)
							DAG[i][1][j] = new Array(2)
							DAG[i][1][j] = new Array(2)
							DAG[i][0][j][0] = -1
							DAG[i][0][j][1] = -1
							DAG[i][0][j][0] = -1
							DAG[i][0][j][1] = -1
							DAG[i][1][j][0] = -1
							DAG[i][1][j][1] = -1
							DAG[i][1][j][0] = -1
							DAG[i][1][j][1] = -1
						}
			   }
			var TempDest
			var TempSrc1
			var TempSrc2
			var wawfound
			var warfound
			var rawfound
			var hazardfound
			for(i = 0;i<NumOpr-1;i++)
				{
					TempSrc1 = Src1[i]
					TempSrc2 = Src2[i]
					TempDest = Dest[i]
					hazardfound = 0;
					wawfound = 0;
					warfound = 0;
					rawfound = 0;
					for(j = i+1;j<NumOpr;j++)
						{

							if((wawfound == 0 && TempDest != "NA" && TempDest == Dest[j]))
								{
									DAG[i][1][IsItOnBot[i]][0] = j
									DAG[j][0][IsItOnTop[j]][0] = i
									for(k = 0;k<LatNumOpr;k++)
										{
											if(LatOp[k] == Opr[i])
												{
													DAG[i][1][IsItOnBot[i]][1]=LatVal[k]
													DAG[j][0][IsItOnTop[j]][1]=LatVal[k]
													break
												}
										}
									wawfound = 1
								}
							if(wawfound == 0 && (TempDest != "NA" && (TempDest == Src1[j] || TempDest == Src2[j])))
								{
									DAG[i][1][IsItOnBot[i]][0] = j
									DAG[j][0][IsItOnTop[j]][0] = i
									for(k = 0;k<LatNumOpr;k++)
										{
											if(LatOp[k] == Opr[i])
												{
													DAG[i][1][IsItOnBot[i]][1]=LatVal[k]
													DAG[j][0][IsItOnTop[j]][1]=LatVal[k]
													break;
												}
										}
									rawfound = 1
								}
							if(warfound < 2 && ((TempSrc1 != "NA" && TempSrc1 == Dest[j]) || (TempSrc2 != "NA" && TempSrc2 == Dest[j])))
								{
									DAG[i][1][IsItOnBot[i]][0]= j
									DAG[j][0][IsItOnTop[j]][0]= i
									for(k = 0;k<LatNumOpr;k++)
										{
											if(LatOp[k] == Opr[i])
												{
													DAG[i][1][IsItOnBot[i]][1]=LatVal[k]
													DAG[j][0][IsItOnTop[j]][1]=LatVal[k]
													break;
												}
										}
									warfound = warfound + 1
								}
							if(((TempDest != "NA") && (TempDest == Dest[j])) || (TempDest != "NA" && (TempDest == Src1[j] || TempDest == Src2[j])) || ((TempSrc1 != "NA" && TempSrc1 == Dest[j]) || (TempSrc2 != "NA" && TempSrc2 == Dest[j])))
								{
									hazardfound = 1
									IsItOnBot[i]++
									IsItOnTop[j]++
								}
							if(warfound > 0 && wawfound == 1)
								{
									break
								}
						}
					if(i == LoopAddrBounds[1])
						{
							for(j = 1;j<LatNumOpr;j++)
								{
									if(LatOp[j] == Opr[i])
										{
											IsItOnTop[i] = IsItOnTop[i]+NumOpr - LatVal[j] - 2
											break
										}
								}
						}

					if(hazardfound == 0)
						{
							if(i == LoopAddrBounds[1])
								{
									DAG[NumOpr-1][0][IsItOnTop[NumOpr-1]][0] = i
									DAG[i][1][0][0] = NumOpr-1
									for(k = 0;k<LatNumOpr;k++)
										{
											if(LatOp[k] == Opr[i])
												{
													DAG[NumOpr-1][0][IsItOnTop[NumOpr-1]][1] = LatVal[k]
													DAG[i][1][0][1] = LatVal[k]
													IsItOnBot[i] ++
												}
										}
									IsItOnTop[NumOpr-1]++
								}
							else
								{
									DAG[NumOpr-1][0][IsItOnTop[NumOpr-1]][0] = i
									DAG[i][1][0][0] = NumOpr-1
									DAG[NumOpr-1][0][IsItOnTop[NumOpr-1]][1] = 0
									DAG[i][1][0][1] = 0
									IsItOnBot[i]++
									IsItOnTop[NumOpr-1]++
								}
						}
			   }


	<!------------------------------------------------------------------------------>
	<!---------------------------------------------------------------------------------------------------->
	<!--This code will do the scheduling of the instructions -->
	<!---------------------------------------------------------------------------------------------------->
	<!--document.write("THE NUMBER OF OPERATIONS ARE "+NumOpr+"<BR>")-->
	for(SchInt=0;SchInt<NumOpr;)
		{
	<!--- This is the list of the nodes that are on the top of the graph -->
<!--			document.write("************************************THE GRAPH IS ************************************<BR>");-->
<!--			document.write("SCHEDULE INDEX IS "+SchInt+"<BR>");-->
<!--			document.write("************************************THE GRAPH IS ************************************<BR>");-->
<!--			for(i = 0;i<MAXIndex;i++)-->
<!--				{-->
<!--					for(j = MAXIndex-1;j>=0;j--)-->
<!--						{-->
<!--							if(DAG[i][0][j][0] != -1)-->
<!--								{-->
<!--									document.write(",,");   -->
<!--									document.write(DAG[i][0][j][0]);-->
<!--									document.write(" ");-->
<!--									document.write(DAG[i][0][j][1]);-->
<!--									document.write(",,");-->
<!--								}-->-->
<!--						}-->
<!--					document.write("||||");-->-->
<!--					document.write(i);-->
<!--					document.write("||||");-->
<!--					for(j = 0;j<MAXIndex;j++)-->
<!--						{-->
<!--							if(DAG[i][1][j][0]== -1)-->
<!--								{-->
<!--									break-->
<!--								}-->
<!--							document.write(",,");-->
<!--							document.write(DAG[i][1][j][0]);-->
<!--							document.write(" ");-->
<!--							document.write(DAG[i][1][j][1]);-->
<!--							document.write(",,");-->
<!--						}-->
<!--					document.write("##")-->
<!--					document.write(IsItOnTop[i])-->
<!--					document.write("....")-->
<!--					document.write(IsItOnBot[i])-->
<!--					document.write("<BR>");-->
<!--			}-->
		<!--document.write("***************************************************************************************<BR>");-->
		var TopInd
		var cond = 0
		k = 0
		for(i = 0;i<MAXIndex;i++)
			{
				if(IsItOnTop[i] == 0)
					{
						TOPLIST[k] = i
						k++
					}
			}
		if(TOPLIST[0] == -1)
			{
				document.write("BREAKING OFF FROM THE LOOP <BR>")
				break
			}
		TOPLIST[k] = -1
		TopInd = k
		<!--Determine the node that has the highest latency among the nodes that are on the top of the DAG -->
		CurrentTime++
		var MaxLatIndex = -1;
		var MaxLatIndex1 = -1;
		var MaxLatValue = -1;
		for(j = 0;j<TopInd;j++)
			{
				if(EnteranceTime[TOPLIST[j]] <= CurrentTime)
					{
						if(DAG[TOPLIST[j]][1][0][1] == -1)
							{
								MaxLatIndex1 = j;
							}
						else
							{
								for(k = 0;k<MAXIndex;k++)
									{
										if(DAG[TOPLIST[j]][1][k][1] == -1)
											{
												break;
											}
										else
											{
												if(MaxLatValue < DAG[TOPLIST[j]][1][k][1])
													{
														MaxLatValue = DAG[TOPLIST[j]][1][k][1]
														MaxLatIndex = j
													}
											}
									}
							}
					}
			}
		if(MaxLatValue == -1 && MaxLatIndex1 != -1)
			{
				MaxLatIndex = MaxLatIndex1
				<!--   document.write("******************THE INSTRUCTION IS ") -->
				<!--   document.write("<table width = '25%' align = 'Center' cellspacing = '0' border = '0'>") -->
				<!--          document.write("<tr align = 'center'>") -->
				<!--           document.write("<td>") -->
				<!--    document.write(TOPLIST[MaxLatIndex]+"<BR>") -->
				<!--            document.write("</td>") -->
				<!--           document.write("<td>") -->
				<!--	     document.write(Opr[TOPLIST[MaxLatIndex]]+"<BR>") -->
				<!--           document.write("</td>") -->
				<!--           document.write("<td>") -->
				<!--             document.write(Dest[TOPLIST[MaxLatIndex]]) -->
				<!--           document.write("</td>") -->
				<!--           document.write("<td>") -->
				<!--             document.write(Src1[TOPLIST[MaxLatIndex]]) -->
				<!--           document.write("</td>") -->
				<!--   if(Src2[i] != "NA") -->
				<!-- { -->
				<!-- document.write("<td>") -->
				<!--  	     document.write(Src2[TOPLIST[MaxLatIndex]])-->
				<!-- document.write("</td>")-->
				<!--  }-->
				<!--  if(Imm[i] != "NA")-->
				<!--  {-->
				<!-- document.write("<td>")-->
				<!-- document.write("#"+Imm[TOPLIST[MaxLatIndex]])-->
				<!-- document.write("</td>")-->
				<!-- }	  -->
				<!--   document.write("</table>")-->
				OprPerm[SchInt] = Opr[TOPLIST[MaxLatIndex]]
				DestPerm[SchInt] = Dest[TOPLIST[MaxLatIndex]]
				Src1Perm[SchInt] = Src1[TOPLIST[MaxLatIndex]]
				Src2Perm[SchInt] = Src2[TOPLIST[MaxLatIndex]]
				ImmPerm[SchInt] = Imm[TOPLIST[MaxLatIndex]]
				InstrAddress[SchInt]=SchInt+1
			}
		else if(MaxLatValue == -1 && MaxLatIndex1 == -1)
			{
				<!--  document.write("******************THE INSTRUCTION IS STALL")-->
<!--			<!-- document.write("<table width = '25%' align = 'Center' cellspacing = '0' border = '0'>")-->
				<!-- document.write("<tr align = 'center'>")-->
				<!-- document.write("<td>")-->
				<!-- document.write("</td>")-->
				<!-- document.write("<td colspan = '4'>")-->
				<!-- document.write ("STALL <BR>") -->
				<!-- document.write("</td>")-->
				<!-- document.write("</tr>")-->
				<!-- document.write("</table>")-->
				<!-- document.write("<BR>")-->
				continue
			}
		else
			{
				OprPerm[SchInt] = Opr[TOPLIST[MaxLatIndex]]
				DestPerm[SchInt] = Dest[TOPLIST[MaxLatIndex]]
				Src1Perm[SchInt] = Src1[TOPLIST[MaxLatIndex]]
				Src2Perm[SchInt] = Src2[TOPLIST[MaxLatIndex]]
				ImmPerm[SchInt] = Imm[TOPLIST[MaxLatIndex]]
				InstrAddress[SchInt]=SchInt+1
			}
		<!-- document.write("******************THE INSTRUCTION IS ")-->
        <!-- document.write("<table width = '25%' align = 'Center' cellspacing = '0' border = '0'>")-->
        <!-- document.write("<tr align = 'center'>")-->
        <!-- document.write("<td>")-->
		<!--      document.write(TOPLIST[MaxLatIndex]) -->
        <!-- document.write("</td>")-->
        <!-- document.write("<td>")-->
		<!--	      document.write(Opr[TOPLIST[MaxLatIndex]]+"<BR>")-->
        <!-- document.write("</td>")-->
        <!-- document.write("<td>")-->
		<!--              document.write(Dest[TOPLIST[MaxLatIndex]]) -->
        <!-- document.write("</td>")-->
        <!-- document.write("<td>")-->
		<!--              document.write(Src1[TOPLIST[MaxLatIndex]]) -->
        <!-- document.write("</td>")-->
		<!--          if(Src2[TOPLIST[MaxLatIndex]] != "NA")-->
		<!--	  {-->
        <!-- document.writeX("<td>")-->
		<!--  	       document.write(Src2[TOPLIST[MaxLatIndex]])-->
        <!-- document.write("</td>")-->
		<!--	  }-->
		<!--	  if(Imm[TOPLIST[MaxLatIndex]] != "NA")-->
		<!--	  { -->
        <!-- document.write("<td>")-->
		<!--              document.write("#"+Imm[TOPLIST[MaxLatIndex]])-->
        <!-- document.write("</td>")-->
		<!--	  }	  -->
		<!-- document.write("</tr>")-->
		<!--          document.write("</table>")-->
		<!--}-->
		<!--  document.write("<BR>")-->
		SchInt++
		var INDEX
		<!-- Changing the information of the  IsItOnTop list as the node that supplies to it gets deleted -->
		for(j =0;j<MAXIndex;j++)
			{
				if(DAG[TOPLIST[MaxLatIndex]][1][j][0] == -1)
					{
						break;
					}
				else
					{
						INDEX = DAG[TOPLIST[MaxLatIndex]][1][j][0]

						if(EnteranceTime[TOPLIST[MaxLatIndex]]< (CurrentTime+DAG[TOPLIST[MaxLatIndex]][1][j][1]))
							{
								EnteranceTime[INDEX] = parseInt(CurrentTime)+parseInt(DAG[TOPLIST[MaxLatIndex]][1][j][1])+1
							}
						else
							{
								EnteranceTime[INDEX] = parseInt(EnteranceTime[TOPLIST[MaxLatIndex]])
							}
						<!--    EnteranceTime[INDEX] = DAG[TOPLIST[MaxLatIndex]][1][i][1] + CurrentTime -->
						IsItOnTop[INDEX]--
					}
			}
		if(IsItOnTop[NumOpr-2] > 0)
			{
				IsItOnTop[NumOpr-2]--
			}
<!--		document.write("Toplist "+TOPLIST[MaxLatIndex]+" <BR>")-->
		IsItOnTop[TOPLIST[MaxLatIndex]]--
	}
for(i = 0;i<NumOpr;i++)
	{
		<!--   document.write("OPR IS "+OprPerm[i]+"<BR>")-->
		Opr[i] = OprPerm[i]
		Dest[i] = DestPerm[i]
		Src1[i] = Src1Perm[i]
		Src2[i] = Src2Perm[i]
		Imm[i] = ImmPerm[i]
		InstrAddress[i]=i+1
	}
for(i = 0;i<NumOpr;i++)
	{
		Markins[i] = 0
	}
for(i = 0;i<NumOpr;i++)
	{
		if(Opr[i].substring(0,1) == "b" && Markins[i] == 0)
			{
				condition = 0
				for(j = i+1;j<NumOpr-2;j++)
					{
						if((Dest[j] == Src1[i] && Src1[i] != "NA")|| (Dest[j] == Src2[i] && Src2[i] != "NA"))
							{
								condition = 1
							}
						if(Opr[j] == Opr[i] && (Src1[j] == Src1[i] || Src2[j] == Src1[i] || Src1[j] == Src2[i]) && (Src2[j] == Src2[i] || Src2[j] == Src1[i] || Src1[j] == Src2[i]) && Imm[i] == Imm[j] && condition == 0)
							{
								Markins[j] = 1
							}
					}
			}
	}
Markins[NumOpr+1] = 1
var ind2 = 0
for(i = 0;i<NumOpr;)
	{
		if(Markins[i] != 1)
			{
				Opr[ind2]	=	Opr[i]
				Dest[ind2]	=	Dest[i]
				Src1[ind2]	=	Src1[i]
				Src2[ind2]	=	Src2[i]
				Imm[ind2]	=	Imm[i]
				Label[ind2] =	Label[i]
				InstrAddress[ind2]=ind2
				i++
				ind2++
			}
		else
			{
				i++
			}
	}
Opr[ind2-1]		=	"END"
Dest[ind2-1]	=	"NA"
Src1[ind2-1]	=	"NA"
Src2[ind2-1]	=	"NA"
Imm[ind2-1]		=	"NA"
InstrAddress[ind2]=ind2
NumOpr = ind2
prevlabel = 0;
for(i = 0;i<NumOpr;i++)
	{
		if(Label[i] != 'x')
			{
				for(j = prevlabel;j<i;j++)
					{
						if(parseInt(Label[i]) == Imm[j] && Opr[j].substring(0,1) == 'b')
							{
								Imm[j] = i+1
							}
					}
				prevlabel = i
				Label[i] = i+1
			}
	}
	if(dispcond == 1)
		{
			document.write("<center>THE FINAL SCHEDULED LOOP <BR></center>")
			DispLoopStalls()
			CycPerItr = (TotalCycles/NumUnroll)
			CycPerItr = CycPerItr.toFixed(2)
			document.write("TOTAL NUMBER OF CYCLES PER ITERATION = "+CycPerItr+"<BR>")
			document.write("========================================================================================================<BR>")
		}
	}
	else
	{
		document.write("<center> FAILED THE GCD TEST </center>")
	}

<!--***************************************************************************************************--->
}

 </script>
</body>