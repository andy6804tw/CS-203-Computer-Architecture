<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="Author" CONTENT="sameer">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.03 [en] (X11; I; Linux 2.0.30 i686) [Netscape]">
   <TITLE>Redundant Array of Inexpensive Disks - Reliability</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFCC99" LINK="#0000EF" VLINK="#55188A" ALINK="#FF0000">

<CENTER><B><FONT FACE="Copperplate Gothic Bold"><FONT SIZE=+4>Reliability</FONT></FONT></B></CENTER>

<DIV ALIGN=right><FONT FACE="Copperplate Gothic Light">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1><A HREF="cp.html">BACK</A>
/ <A HREF="raidhome.html">HOME</A></FONT></FONT></DIV>
Reliability of any I/O system has become as important as its performance
and cost. This part of the tutorial:
<BR>&nbsp;
<UL>
<LI>
Reviews the basic reliability provided by a <A HREF="basicRAID.html#RAID Level 5">block-interleaved
parity disk array</A></LI>

<LI>
Lists and discusses three factors that can determine the potential reliability
of disk arrays.</LI>
</UL>
Redundancy in disk arrays is motivated by the need to fight disk failures.
Two key factors MTTF(Mean-Time-to-Failure) and MTTR(Mean-Time-to-Repair)
are of primary concern in estimating the reliability of any disk. Following
are some formulae for the mean time between failures :

<P><B><FONT COLOR="#3366FF">RAID level 5</FONT></B>
<CENTER>MTTF(disk) <SUP>2</SUP></CENTER>

<CENTER>------------------</CENTER>

<CENTER>N*(G-1)*MTTR(disk)</CENTER>
&nbsp;
<BR>&nbsp;
<BR><B><FONT COLOR="#3366FF">Disk array with two redundant disk per parity
group (eg: P+Q redundancy)</FONT></B>
<P>

<CENTER>MTTF(disk) <SUP>3</SUP></CENTER>

<CENTER>-------------------------</CENTER>

<CENTER>N*(G-1)*(G-2)* (MTTR(disk) <SUP>2</SUP> )</CENTER>


<P>N - total number of disks in the system
<BR>G - number of disks in the parity group
<BR>
<P>
<CENTER><B><FONT FACE="Copperplate Gothic Bold"><FONT SIZE=+2>Factors affecting
Reliability</FONT></FONT></B></CENTER>


<P>Three factors that can dramatically affect the reliability of disk arrays
are:
<UL>
<LI>
System crashes</LI>

<LI>
Uncorrectable bit-errors</LI>

<LI>
Correlated disk failures</LI>
</UL>

<CENTER><B><FONT FACE="Copperplate Gothic Bold"><FONT SIZE=+2>System Crashes</FONT></FONT></B></CENTER>


<P><B><FONT COLOR="#3366FF">System crash</FONT></B> refers to any event
such as a power failure, operator error, hardware breakdown, or software
crash that can interrupt an I/O operation to a disk array.

<P>Such <B><U>crashes can interrupt</U></B> write operations, resulting
in states where the data is updated and the parity is not updated or vice
versa. In either case, parity is inconsistent and cannot be used in the
event of a disk failure. Techniques such as <B><U>redundant hardware</U></B>
and power supplies can be applied to make such <B><U>crashes less frequent.</U></B>

<P><B><U>System crashes can cause parity inconsistencies</U></B> in both
bit-interleaved and block-interleaved disk arrays, but the problem is of
practical concern only in block-interleaved disk arrays.

<P>For, reliability purposes, <B><U>system crashes</U></B> in block-interleaved
disk arrays are similar to disk failures in that they may <B><U>result
in the loss of the correct parity for stripes that were modified during
the crash</U>.</B>
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<CENTER><B><FONT FACE="Copperplate Gothic Bold"><FONT SIZE=+2>Uncorrectable
bit-errors</FONT></FONT></B></CENTER>


<P>Most <B><FONT COLOR="#3366FF">uncorrectable bit-errors</FONT></B> are
generated <B><U>because data is incorrectly written or gradually damaged
as the magnetic media ages</U></B>. These errors are detected only when
we attempt to read the data.

<P>Our interpretation of <B><U>uncorrectable bit error rates</U></B> is
that they represent the <B><U>rate at which errors are detected during
reads from the disk during the normal operation of the disk drive</U>.</B>

<P>One <B><U>approach</U></B> that can be used with or without redundancy
is to try <B><U>to protect against bit errors</U></B> by predicting when
a disk is about to fail. VAXsimPLUS, a product from DEC, monitors the warnings
issued by disks and notifies an operator when it feels the disk is about
to fail.
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<CENTER><B><FONT FACE="Copperplate Gothic Bold"><FONT SIZE=+2>Correlated
disk failures</FONT></FONT></B></CENTER>


<P><B><U>Causes:</U></B> Common environmental and manufacturing factors.

<P>For example, an accident might sharply increase the failure rate for
all disks in a disk array for a short period of time. In general, <B><U>power
surges, power failures and simply switching the disks on and off</U></B>
can place stress on the electrical components of all affected disks. Disks
also share common support hardware; when this hardware fails, it can lead
to multiple, simultaneous disk failures.

<P>Disks are generally more likely to fail either very early or very late
in their lifetimes.

<P><I><FONT COLOR="#3333FF">Early failures</FONT></I>are frequently caused
by transient defects which may not have been detected during the manufacturer's
burn-in process.
<BR><I><FONT COLOR="#3333FF">Late failures</FONT></I> occur when a disk
wears out.&nbsp; Correlated disk failures greatly reduce the reliability
of disk arrays by making it much more likely that an initial disk failure
will be closely followed by additional disk failures before the failed
disk can be reconstructed.
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<CENTER><B><FONT FACE="Copperplate Gothic Bold"><FONT SIZE=+2>Mean-Time-To-Data-Loss(MTTDL)</FONT></FONT></B></CENTER>


<P>Following are some formulae to calculate the mean-time-to-data-loss(<A HREF="glossary.html#MTTDL">MTTDL</A>).
In a block-interleaved parity-protected disk array, data loss is possible
through the following three common ways:
<UL>
<LI>
double disk failures</LI>

<LI>
system crash followed by a disk failure</LI>

<LI>
disk failure followed by an uncorrectable bit error during reconstruction</LI>
</UL>
The above three failure modes are the hardest failure combinations, in
that we, currently, don't have any techniques to protect against them without
sacrificing performance.
<BR>&nbsp;
<H3>
<B><FONT FACE="Times New Roman,Times"><FONT SIZE=+2>RAID Level 5</FONT></FONT></B></H3>
&nbsp;
<CENTER><TABLE BORDER=3 CELLSPACING=3 CELLPADDING=3 WIDTH="80%" BGCOLOR="#CCCCCC" NOSAVE >
<TR>
<TD WIDTH="50%">Double Disk Failure</TD>

<TD>
<CENTER>MTTF(disk1) * MTTF(disk2)&nbsp;</CENTER>

<CENTER>-----------------------&nbsp;</CENTER>

<CENTER>N * (G-1) * MTTR(disk)</CENTER>
</TD>
</TR>

<TR NOSAVE>
<TD NOSAVE>System Crash + Disk Failure&nbsp;</TD>

<TD>
<CENTER>MTTF(system) * MTTF(disk)&nbsp;</CENTER>

<CENTER>-----------------------&nbsp;</CENTER>

<CENTER>N * MTTR(system)</CENTER>
</TD>
</TR>

<TR NOSAVE>
<TD NOSAVE>Disk Failure + Bit Error</TD>

<TD>
<CENTER>MTTF(disk)&nbsp;</CENTER>

<CENTER>-----------------------&nbsp;</CENTER>

<CENTER>N * (1 - ( p(disk)) <SUP>(G-1)</SUP> )</CENTER>
</TD>
</TR>

<TR>
<TD>Software RAID</TD>

<TD>harmonic sum of the above</TD>
</TR>

<TR>
<TD>Hardware RAID&nbsp;</TD>

<TD>harmonic sum of above excluding system crash + disk failure</TD>
</TR>

<CAPTION ALIGN=BOTTOM><B>Failure Characteristics for <A HREF="basicRAID.html#RAID Level 5">RAID
Level 5</A> Disk Arrays</B>&nbsp;&nbsp;(source: <a
href="references.html">Reference 1)</a></CAPTION>
</TABLE></CENTER>

<H3>
<FONT FACE="Times New Roman,Times"><FONT SIZE=+2>P+Q disk Array</FONT></FONT></H3>
&nbsp;
<CENTER><TABLE BORDER=3 CELLSPACING=3 CELLPADDING=3 WIDTH="80%" BGCOLOR="#CCCCCC" NOSAVE >
<TR>
<TD>Triple Disk Failures</TD>

<TD>
<CENTER>MTTF(disk) * (MTTF(disk2) * MTTF(disk3)&nbsp;</CENTER>

<CENTER>----------------------------------&nbsp;</CENTER>

<CENTER>N * (G-1) * (G-2) * MTTR(disk) <SUP>2</SUP></CENTER>
</TD>
</TR>

<TR NOSAVE>
<TD NOSAVE>System Crash + Disk Failure</TD>

<TD>
<CENTER>MTTF(system) * MTTF(disk)&nbsp;</CENTER>

<CENTER>--------------------------&nbsp;</CENTER>

<CENTER>N * MTTR(system)</CENTER>
</TD>
</TR>

<TR NOSAVE>
<TD NOSAVE>Double disk failure + Bit error</TD>

<TD>
<CENTER>MTTF(disk) * MTTF(disk2)&nbsp;</CENTER>

<CENTER>----------------------------------&nbsp;</CENTER>

<CENTER>N*(G-1)*(1-(p(disk)) <SUP>(G-2)</SUP> )* MTTR(disk)</CENTER>
</TD>
</TR>

<TR NOSAVE>
<TD NOSAVE>Software RAID</TD>

<TD>harmonic sum of the above</TD>
</TR>

<TR>
<TD>Hardware RAID</TD>

<TD>harmonic sum excluding system crash +disk failure</TD>
</TR>

<CAPTION ALIGN=BOTTOM><B>Failure characteristics for a <A HREF="basicRAID.html#RAID Level 6">P+Q
disk array</A></B>&nbsp;&nbsp;<FONT=-1>(source: <a href="references.html">Reference 1)</a></FONT></CAPTION>
</TABLE></CENTER>
&nbsp;
<BR>p(disk) = The probability of reading all sectors on a disk (derived
from disk size, sector size, and BER)

<P><B><FONT FACE="Courier New,Courier"><FONT SIZE=+1><U><A HREF="reliability_tool.html">Tool
for Reliability</A></U> Using the Above Equations.</FONT></FONT></B> (source:&nbsp;<A HREF="references.html">Reference
3</A>)
<BR>&nbsp;
<BR>&nbsp;
<DIV ALIGN=right><FONT FACE="Times New Roman,Times"><FONT SIZE=+1><A HREF="cp.html">BACK</A>
/ <A HREF="raidhome.html">HOME</A></FONT></FONT></DIV>

</BODY>
</HTML>
