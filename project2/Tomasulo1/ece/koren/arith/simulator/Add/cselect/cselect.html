<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.72 [en] (X11; U; Linux 2.2.12-20 i686) [Netscape]">
   <title> Carry Select Adder with Timing</title>
<script language="JavaScript">


function MakeLine(NumColumns) 
{
        return "<TR> <TD colspan=" + NumColumns + "> <HR noshade size=1>\n";
}

function PrintError(Message) 
{
        Error = "<CENTER><H1> ERROR </H1></CENTER> <P>\n"
        Error += "<CENTER> <EM>" + Message + "</EM> </CENTER>\n"
        return Error
}

function IsInteger(Num) 
{
        return (Num == Math.floor(Num))
}

function OrderOfMagnitude (TheNum) 
{
        // returns the highest place which has a "1" in TheNum's
        // binary representation

        // to account for 2's complement representation...
        //alert ("TheNum is now " + TheNum)
        TheNum < 0 ? TheNum = (TheNum * -2) - 2 : TheNum *= 2
        //alert ("TheNum is now " + TheNum)

        LogBaseTwo = Math.log(TheNum)/Math.LN2;
        return Math.floor(LogBaseTwo)
}

function ParseBinary (BinNum) 
{
        // Turns a binary number into a decimal, sets a flag to true if
        // BinNum is not actually binary

        IsNeg = false
        if (BinNum < 0) 
        {
                IsNeg = true
                BinNum *= -1
        }
        RealNum = 0
        BinNum += Math.pow(10, -1 - NumBits) // kludge so processor
                                             // won't mess up
        LogBaseTen = Math.log(BinNum)/Math.LN10
        HighestPlace = Math.ceil(LogBaseTen)
        for (CurPlace = HighestPlace; CurPlace >= -NumBits; CurPlace--) 
        {
                CurEntry = Math.floor(BinNum / Math.pow(10, CurPlace))
                if (CurEntry != 0 && CurEntry != 1) 
                {
                        NotBinary = true
                        CurEntry = 1 // feed it something normal, to avoid
                                         // wierd Javascript errors
                }
                if (CurEntry == 1) 
                {
                        RealNum += Math.pow(2, CurPlace)
                        BinNum -= Math.pow(10, CurPlace)
                }
        }
        if (IsNeg) {RealNum *= -1} // reverse it back at the end

        // now check if the number was negative according to two's complement
        // representation - if it was, set the decimal value to this negative
        // number
        if (HighestPlace == NumBits)
                RealNum -= Math.pow(2, NumBits)

        if (HighestPlace == 1 && RealNum!=1 )
                RealNum -= Math.pow(2, 1)

        return RealNum
}

function RoundOff (TheNum) 
{
        // returns the value TheNum would have if it were represented by
        // NumDecimals bits after the decimal point
        Scaling = Math.pow(2, NumDecimals)
        return (Math.floor(TheNum * Scaling) / Scaling)
}



function PrintTwosComp(TheNum, StartPlace) 
{

        // first deal with negative numbers...
        if (TheNum < 0) {TheNum += Math.pow(2, StartPlace)}

        // now initialize the string
        S = "";
        S += "<TD> ";
        for (CurPlace = StartPlace - 1; CurPlace >= -NumDecimals; CurPlace--) 
        {
                if (CurPlace == -1) 
                {
                        S += ".";
                }
                CurPower = Math.pow(2, CurPlace);
                if (TheNum >= CurPower) 
                {
                        S += "1 ";
                        TheNum -= CurPower
                } 
                else 
                {
                        S += "0 "
                } 
        }
        return S;
}


function PrintNum(Num, Bits)
{
	S = "";
//	S += "</TD> ";
	for (CurPlace = Bits - 1 ; CurPlace >= 0; CurPlace--)
        {
                CurPower = Math.pow(2, CurPlace);
                if (Num >= CurPower)
                {
                        S += "1 ";
                        Num -= CurPower
                }
                else
                {
                        S += "0 "
                }
        }
        return S;
}


function PrintNumInGif(Num, Bits, CinFlag)
{
        S = "";
//      S += "</TD> ";
        for (CurPlace = Bits - 1 ; CurPlace >= 0; CurPlace--)
        {
                CurPower = Math.pow(2, CurPlace);
                if (Num >= CurPower)
                {
                        if(CinFlag == 1)
				if(NumBits > 16 )
					S += "<IMG SRC = ./../images/1cin1_s.gif>"
				else
					S += "<IMG SRC = ./../images/1cin1.gif>"
			else
				if(NumBits > 16 )
					S += "<IMG SRC = ./../images/1cin0_s.gif>"
				else
					S += "<IMG SRC = ./../images/1cin0.gif>"
                        Num -= CurPower
                }
                else
                {
			if(CinFlag == 1)
				if(NumBits > 16 )
					S += "<IMG SRC = ./../images/0cin1_s.gif>"
				else
                                	S += "<IMG SRC = ./../images/0cin1.gif>"
                        else
				if(NumBits > 16 )
					S += "<IMG SRC = ./../images/0cin0_s.gif>"
				else
                        		S += "<IMG SRC = ./../images/0cin0.gif>"
                }
        }
        return S;
}


function PrintSumInGif(Num, Bits)
{
        S = "";
//      S += "</TD> ";
        for (CurPlace = Bits - 1 ; CurPlace >= 0; CurPlace--)
        {
                CurPower = Math.pow(2, CurPlace);
                if (Num >= CurPower)
                {
                        if(NumBits > 16 )
				S += "<IMG SRC = ./../images/1_s.gif>"
			else
				S += "<IMG SRC = ./../images/1.gif>";
                        Num -= CurPower
                }
                else
                {	if(NumBits > 16 )
				S += "<IMG SRC = ./../images/0_s.gif>"
			else
                        	S += "<IMG SRC = ./../images/0.gif>"
                }
        }
        return S;
}


function FeedIntoVariable(TheNum, StartPlace, ReturnArray) 
{
        if (TheNum < 0) {TheNum += Math.pow(2, StartPlace)}

        // now initialize the string
        index = StartPlace - 1
        for (CurPlace = StartPlace - 1; CurPlace >= -NumDecimals; CurPlace--) 
        {
                if (CurPlace == -1) 
                {
                        ReturnArray[index] = 2;
                        index --
                }
                CurPower = Math.pow(2, CurPlace);
                if (TheNum >= CurPower) 
                {
                        ReturnArray[index] = 1;
                        index --
                        TheNum -= CurPower
                } 
                else 
                {
                        ReturnArray[index] = 0;
                        index --;
                } 
        }
        return ReturnArray
}


function PrintSumCarry(Middle)
{
    Middle += MakeLine(NumCols + 3)
    Middle += "<TR><TD><TD>"
    Middle += "<TR><TD>Carry     :    <TD><TD>" 
        for (loop=NumDigits;loop>=1;loop--)
                Middle += " " + FinalCarry[loop];
        Middle += "<TR><TD>Generate     :    <TD><TD>" 
        for (loop=NumDigits-1;loop>=0;loop--)
                Middle += " " + Generate[loop];
        Middle += "<TR><TD>Propagate     :    <TD><TD>" 
        for (loop=NumDigits-1;loop>=0;loop--)
                Middle += " " + Propagate[loop];
    Middle += "<TR><TD>Sum       :    <TD><TD>"
        for (loop=NumDigits-1;loop>=0;loop--)
                Middle += " " + FinalSum[loop]
        

        return Middle
}


//Next function returns the larger of two numbers
function GetMax(Number1, Number2)
{
        if (Number1 > Number2)
                bigger = Number1
        else
                bigger = Number2

        return bigger
}


//Next function returns the smaller of two numbers
function GetMin(Number1, Number2)
{
        if (Number1 < Number2)
                smaller = Number1
        else
                smaller = Number2

        return smaller
}


//This function parses the number into groups
function MakeGroup(Number, NoOfGroups, BlockSizeArray, Grouped)
{
        temp=0
        for(index=0; index<NoOfGroups; index++)
        {
                for(secindex=0; secindex < BlockSizeArray[index]; secindex++)
                       Grouped[index][secindex] = Number[temp+secindex]
                temp += secindex
        }
	return Grouped
}

//Next function returns the time needed to Calculate the Sum-time of this adder block
function CalculateSumTime(AToSum, CinToSum, PrevCarryTime)
{
        if (PrevCarryTime == 0)
                finalTime = GetMax(AToSum, CinToSum)
        else
        {
                if (CinToSum > AToSum)
                        finalTime = PrevCarryTime + CinToSum
                else
                {
                        if (PrevCarryTime < AToSum)
                        {
                                difference = AToSum - CinToSum
                                finalTime = GetMax(difference, CinToSum) + PrevCarryTime
                        }
                        else
                                finalTime = CinToSum + PrevCarryTime
                }
        }

        //Cross-checking for trivial case
        if (finalTime < AToSum)
                finalTime = AToSum
        if (finalTime < CinToSum)
                finalTime = CinToSum

        return finalTime
}


//Next function returns the time needed to Calculate the Carry-time of this adder block
function CalculateCarryTime(AToCout, CinToCout, PrevCarryTime)
{
        if (PrevCarryTime == 0)
                CarryOutTime = GetMax(AToCout, CinToCout)
        else
        {
                if (CinToCout > AToCout)
                        CarryOutTime = PrevCarryTime + CinToCout
                else
                {
                        if (PrevCarryTime < AToCout)
                        {
                                difference = AToCout - CinToCout
                                CarryOutTime = GetMax(difference, CinToCout) + PrevCarryTime
                        }
                        else
                                CarryOutTime = CinToCout + PrevCarryTime
                }
        }

        //Cross-checking for trivial case
        if (CarryOutTime < AToCout)
                CarryOutTime = AToCout
        if (CarryOutTime < CinToCout)
                CarryOutTime = CinToCout

        return CarryOutTime
}



function CarrySkipAdd(form) 
{
        TheTop = "<HTML><HEAD><TITLE>Tablet</TITLE></HEAD><BODY bgcolor=white>";

        A = parseFloat(form.A.value)
        B = parseFloat(form.B.value)


        CinToSum = parseFloat(form.CinToSum.value)
        AToSum = parseFloat(form.AToSum.value)
        CinToCout = parseFloat(form.CinToCout.value)
        AToCout = parseFloat(form.AToCout.value)
        muxdel = parseFloat(form.muxdel.value)

	BlkSizes = form.IndBlkSize.value.split(" ");
	Numblocks = BlkSizes.length

	Cskablocksize = new Array(Numblocks)

	for(index=0; index < Numblocks; index++)
		Cskablocksize[index] =  parseInt(BlkSizes[index])
	
	IndblkTotBits = false

	checksum = 0

	for(index=0; index < Numblocks; index++)
		checksum += Cskablocksize[index]


	ChoseBin = form.Base[0].checked
        ChoseDec = form.Base[1].checked
        NumBits = parseInt(form.NumBits.value)
        NotBinary = false
        if (ChoseBin) 
        {
                A = ParseBinary(A)
                B = ParseBinary(B)
        }

        if(checksum != NumBits)
		IndblkTotBits = true

	Mixed = false
        Overflow = false
        FractionalNum = (Math.abs(A) < 2) && (Math.abs(B) < 2)
        // bit to left of dec. pt. is sign bit 
        if (IsInteger(A) & IsInteger(B)) 
        {
                NumDecimals = 0
                NumDigits = NumBits
                if (Math.max(OrderOfMagnitude(A), OrderOfMagnitude(B)) + 1 > NumDigits) 
                {
                        NumDigits = 0
                        NumDecimals = 0
                        Overflow = true
                }
        } 
        else 
        {
                if (FractionalNum) 
                {
                        NumDigits = 1
                        NumDecimals = NumBits - 1
                } 
                else 
                {
                        Mixed = true
                        NumDigits = 0
                        NumDecimals = 0    // just filler values 
                }
        }

        NumCols = (2 * NumDigits - 1) + NumDecimals

//	alert("Number of digits are " + NumDigits)

//	BitsinBlock=1
//	Numblocks=1
//	totalbits=1	
//	lastblock=0
//	while (totalbits < NumDigits)
//	{
//		totalbits += BitsinBlock
//		Numblocks++
//		BitsinBlock++
//	}
//	
//	if((totalbits - NumDigits) > 0)
//		lastblock = BitsinBlock- (totalbits - NumDigits) - 1
//	
//	Cskablocksize = new Array(Numblocks)
//	Cskablocksize[0] = 1
//
//	for(index=1;index<Numblocks-1;index++)
//		Cskablocksize[index] = index
//	
//	if(lastblock != 0)
//		Cskablocksize[Numblocks-1] = lastblock
//	else
//		Cskablocksize[Numblocks-1] = index



        A = RoundOff(A)
        B = RoundOff(B)

        Middle = "<TABLE>"

        // now initialize two Input Arrays & two 
        // output arrays & two intermediate arrays
        FirstNumber = new Array(NumDigits)
        FeedIntoVariable(A, NumDigits,FirstNumber)
        SecondNumber = new Array(NumDigits)
        FeedIntoVariable(B, NumDigits,SecondNumber)

	//For numbers divided into groups for the carry look ahead adder.
	GroupedA = new Array(Numblocks) 
	GroupedB = new Array(Numblocks)

        //For each group sum has to be stored assuming cin =0 and cin=1
	//Also final sum with proper carry is also stored in the last array
	SumWithCin0 = new Array(Numblocks)
        SumWithCin1 = new Array(Numblocks)
        SumWithPropCarry = new Array(Numblocks)

	//Same applies to carry also
	//Final actual carry is put in the CarryGen array
        CoutWithCin0 = new Array(Numblocks)
        CoutWithCin1 = new Array(Numblocks)
        CarryGen = new Array(Numblocks)


	// Decimal equvivalent of all the groups! Easy for Addition
        numadec = new Array(Numblocks)
        numbdec = new Array(Numblocks)

	for(index=0; index<Numblocks; index++)
	{
		GroupedA[index] = new Array(Cskablocksize[index])
		GroupedB[index] = new Array(Cskablocksize[index])
	}

	// A & B are divided into groups
	MakeGroup(FirstNumber, Numblocks, Cskablocksize, GroupedA)
	MakeGroup(SecondNumber, Numblocks, Cskablocksize, GroupedB)	

	//initialized to zero
	for(index=0; index < Numblocks; index++)
        {
                        numadec[index] = 0
                        numbdec[index] = 0
			CoutWithCin0[index] = 0
			CoutWithCin1[index] = 0
        }

	//The summing with cin=0 and cin=1 takes place
	for(index=0; index < Numblocks; index++)
	{
		for(secindex=0; secindex < Cskablocksize[index]; secindex++)
		{
			numadec[index] += GroupedA[index][secindex]*Math.pow(2, secindex)
			numbdec[index] += GroupedB[index][secindex]*Math.pow(2, secindex) 
		}
		SumWithCin0[index] = numadec[index] + numbdec[index]
		SumWithCin1[index] = numadec[index] + numbdec[index] + 1
	}

	
	//Proper carry generated is found for all the locations and then the sum with
	//actual carry is selected out of the two possible choices
	if(SumWithCin0[0] > (Math.pow(2,Cskablocksize[0])-1))
	{	
		CarryGen[0] = 1
		CoutWithCin0[0] = 1
		SumWithPropCarry[0] = SumWithCin0[0] - Math.pow(2,Cskablocksize[0])
		SumWithCin0[0] -= Math.pow(2,Cskablocksize[0])
	}
	else
	{
		CarryGen[0] = 0
		SumWithPropCarry[0] = SumWithCin0[0]
	}

	if(SumWithCin1[0] > (Math.pow(2,Cskablocksize[0])-1))
        {       
                CoutWithCin1[0] = 1
		SumWithCin1[0] -= Math.pow(2,Cskablocksize[0])
        }

	
	for(index=1; index < Numblocks; index++)
	{
		CarryGen[index] = 0
		if( SumWithCin0[index] > (Math.pow(2,Cskablocksize[index]) - 1))
		{
			CoutWithCin0[index] = 1
                        SumWithCin0[index] -= Math.pow(2,Cskablocksize[index])
			if(CarryGen[index-1] == 0)
				CarryGen[index] = 1
		}

		if(SumWithCin1[index] > (Math.pow(2,Cskablocksize[index]) - 1))
		{
			CoutWithCin1[index] = 1
                        SumWithCin1[index] -= Math.pow(2,Cskablocksize[index])
			if(CarryGen[index-1] == 1)
				CarryGen[index] = 1
		}

		if(CarryGen[index-1] == 0)
                        SumWithPropCarry[index] = SumWithCin0[index]
                else
                        SumWithPropCarry[index] = SumWithCin1[index]
        }


	// Timing Calculations

	sumdelay = new Array(Numblocks)
	carrydelay = new Array(Numblocks+1)

	for(index=0; index < Numblocks; index++)
	{
		sumdelay[index]	= 0
		carrydelay[index] = 0
	}

//
//	for(index=0; index < Numblocks; index++)
//	{		
//		sumdelay[index] = 1000*sumdel * Cskablocksize[index]
//		sumdelay[index] = Math.round(sumdelay[index])/1000
//	}
//
//
//	carrydelay[0] = 0
//	carrydelay[1] = sumdelay[0]
//
//	for(index=1;index < Numblocks; index++)
//	{
//		if(sumdelay[index] < carrydelay[index])
//		{
//			carrydelay[index+1] = 1000*(carrydelay[index] + muxdel)
//			carrydelay[index+1] = Math.round(carrydelay[index+1])/1000
//		}
//		else
//		{
//			carrydelay[index+1] = 1000*(sumdelay[index] + muxdel)
//                       carrydelay[index+1] = Math.round(carrydelay[index+1])/1000
//              }
//	}
//


	BlockSumTime = new Array(Numblocks)
	BlockCarryTime = new Array(Numblocks)
	FinalSumTime =  new Array(Numblocks)
	FinalCarryTime = new Array(Numblocks+1)

	FinalCarryTime[0] = 0
	
	for (counter = 0; counter < Numblocks; counter++)
        {
		BlockSumTime[counter]  = 0
		BlockCarryTime[counter] = 0
        }
	

        // Find all Carry & Sum Related timing things
       
	for(index = 0; index < Numblocks; index++)
	{
		for (counter = 0; counter < Cskablocksize[index]; counter++)
        	{	
                	if (counter == 0)
                	{
				TempCarryTime = CalculateCarryTime(AToCout, CinToCout, 0)
				TempSumTime = CalculateSumTime(AToSum, CinToSum, 0)
                	}
                	else
                	{
				TempCarryTime = CalculateCarryTime(AToCout, CinToCout, OldCarryTime) 
				TempSumTime = CalculateSumTime(AToSum, CinToSum, OldCarryTime)
                	}
			OldCarryTime = TempCarryTime;
			OldSumTime = TempSumTime;
        	}
		BlockSumTime[index] = OldSumTime
		BlockCarryTime[index] = OldCarryTime
	}
	
        for (counter = 0; counter < Numblocks; counter++)
        {
		BlockSumTime[counter] *= 1000
		BlockCarryTime[counter] *= 1000
		BlockSumTime[counter] = Math.round(BlockSumTime[counter])/1000
		BlockCarryTime[counter] = Math.round(BlockCarryTime[counter])/1000
		if(BlockSumTime[counter] > BlockCarryTime[counter])
			FinalSumTime[counter] = BlockSumTime[counter]
		else
			FinalSumTime[counter] = BlockCarryTime[counter]

		if( FinalCarryTime[counter] < FinalSumTime[counter])
			FinalCarryTime[counter+1] = FinalSumTime[counter] + muxdel 
		else
			FinalCarryTime[counter+1] = FinalCarryTime[counter] + muxdel
		FinalCarryTime[counter+1] *= 1000
		FinalCarryTime[counter+1] = Math.round(FinalCarryTime[counter+1])/1000
        }
	

	// Printing the sum results
        Middle += "<PRE>"
        Middle += "<BR>"

        Middle +="</PRE>"

        ActualSum = A + B

        Middle += "<TABLE>"
	Middle += "<BR>"
      
	if(NumBits > 16)
		Middle += "<IMG SRC = ./../images/onlycoutarrowcin0_s.gif>"
	else
		Middle += "<IMG SRC = ./../images/onlycoutarrowcin0.gif>"

	for(index = Numblocks - 1; index >= 0; index--)
	{
		for(secindex = Cskablocksize[index] - 1; secindex >= 0; secindex--)
		{
			if(GroupedA[index][secindex] == 0)
				if(GroupedB[index][secindex] == 0)
					if(NumBits > 16)
						Middle += "<IMG SRC = ./../images/sumboxin00cin0_s.gif>"
					else
						Middle += "<IMG SRC = ./../images/sumboxin00cin0.gif>"
				else
					if(NumBits > 16)
						Middle += "<IMG SRC = ./../images/sumboxin01cin0_s.gif>"
					else
						Middle += "<IMG SRC = ./../images/sumboxin01cin0.gif>"
			else
				if(GroupedB[index][secindex] == 0)
                                        if(NumBits > 16)
						Middle += "<IMG SRC = ./../images/sumboxin10cin0_s.gif>"
					else
						Middle += "<IMG SRC = ./../images/sumboxin10cin0.gif>"
                                else
					if(NumBits > 16)
	                                        Middle += "<IMG SRC = ./../images/sumboxin11cin0_s.gif>"
					else
						Middle += "<IMG SRC = ./../images/sumboxin11cin0.gif>"
		}
		if(index==0)
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/onlycarryin0_s.gif>"
			else
				Middle += "<IMG SRC = ./../images/onlycarryin0.gif>"
		else
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/carryin0coutarrow_s.gif>"
			else
				Middle += "<IMG SRC = ./../images/carryin0coutarrow.gif>"
	}
	Middle += "<BR>"

	for(index = Numblocks - 1; index >= 0; index--)
	{
		if(CoutWithCin0[index] == 1)
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/1ccin0_s.gif>"
			else
				Middle += "<IMG SRC = ./../images/1ccin0.gif>"
		else
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/0ccin0_s.gif>"
			else
				Middle += "<IMG SRC = ./../images/0ccin0.gif>"
		Middle += PrintNumInGif(SumWithCin0[index], Cskablocksize[index],0)
	}		

	Middle += "<BR>"

	for(index = Numblocks - 1 ; index >= 0; index--)
	{
		if(NumBits > 16)
			Middle += "<IMG SRC = ./../images/vlinec_s.gif>"	
		else
			Middle += "<IMG SRC = ./../images/vlinec.gif>"
		for(secindex = Cskablocksize[index] - 1; secindex >= 0; secindex--)
		{
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/vline_s.gif>"
			else
				Middle += "<IMG SRC = ./../images/vline.gif>"
		}
	}

        Middle += "<BR>"
	if(NumBits > 16)
		Middle += "<IMG SRC = ./../images/onlycoutarrowcin1_s.gif>"
	else	
		Middle += "<IMG SRC = ./../images/onlycoutarrowcin1.gif>"
        for(index = Numblocks - 1; index >= 0; index--)
        {
                for(secindex = Cskablocksize[index] - 1; secindex >= 0; secindex--)
                {
                        if(GroupedA[index][secindex] == 0)
                                if(GroupedB[index][secindex] == 0)
					if(NumBits > 16)
	                                        Middle += "<IMG SRC = ./../images/sumboxin00cin1_s.gif>"
					else
						Middle += "<IMG SRC = ./../images/sumboxin00cin1.gif>"
                                else
					if(NumBits > 16)
                                        	Middle += "<IMG SRC = ./../images/sumboxin01cin1_s.gif>"
					else
						Middle += "<IMG SRC = ./../images/sumboxin01cin1.gif>"
                        else
                                if(GroupedB[index][secindex] == 0)
					if(NumBits > 16)
                                        	Middle += "<IMG SRC = ./../images/sumboxin10cin1_s.gif>"
					else
						Middle += "<IMG SRC = ./../images/sumboxin10cin1.gif>"
                                else
					if(NumBits > 16)
	                                        Middle += "<IMG SRC = ./../images/sumboxin11cin1_s.gif>"
					else
						Middle += "<IMG SRC = ./../images/sumboxin11cin1.gif>"
                }
                if(index==0)
			if(NumBits > 16)
	                        Middle += "<IMG SRC = ./../images/onlycarryin1_s.gif>"
			else
				Middle += "<IMG SRC = ./../images/onlycarryin1.gif>"
                else
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/carryin1coutarrow_s.gif>"
			else
	                        Middle += "<IMG SRC = ./../images/carryin1coutarrow.gif>"
        }
        Middle += "<BR>"

        for(index = Numblocks - 1; index >= 0; index--)
        {
                if(CoutWithCin1[index] == 1)
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/1ccin1_s.gif>"
			else
	                        Middle += "<IMG SRC = ./../images/1ccin1.gif>"
                else
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/0ccin1_s.gif>"
			else
                        	Middle += "<IMG SRC = ./../images/0ccin1.gif>"
                Middle += PrintNumInGif(SumWithCin1[index], Cskablocksize[index],1)
        //      Middle += "<IMG SRC = ./../images/blank.gif>"
        }

	Middle += "<BR>"

	//Putting the Mux
	for(index = Numblocks - 1; index >= 0; index--)
        {	
		if(CarryGen[index] == 0)
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/muxc0_s.gif>"
			else
				Middle += "<IMG SRC = ./../images/muxc0.gif>"
		else
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/muxc1_s.gif>"
			else
				Middle += "<IMG SRC = ./../images/muxc1.gif>"
		for(secindex=0; secindex < Cskablocksize[index]; secindex++)
		{
			if(NumBits > 16)
				Middle += "<IMG SRC = ./../images/muxadd_s.gif>"
			else
				Middle += "<IMG SRC = ./../images/muxadd.gif>"
		}
		
	}
	if(NumBits > 16)
		Middle += "<IMG SRC = ./../images/muxcin0_s.gif>"
	else
		Middle += "<IMG SRC = ./../images/muxcin0.gif>"
	
	Middle += "<BR>"

	//Putting the final sum
	for(index = Numblocks - 1; index >= 0; index--)
	{
		if(NumBits > 16)
			Middle += "<IMG SRC = ./../images/blank_s.gif>"
		else
                	Middle += "<IMG SRC = ./../images/blank.gif>"
		Middle += PrintSumInGif(SumWithPropCarry[index], Cskablocksize[index])
	}
	
	Middle += "<BR>"
	Middle += "<BR>"

	Middle += "<TR> <TD>A<TD>"  
	Middle += PrintTwosComp(A, NumDigits)   
        Middle += "<TD>  <TD>  :  " + A + "<br>"
        Middle += "<TR> <TD>B<TD>+"
        Middle += PrintTwosComp(B, NumDigits)   
        Middle += "<TD>  <TD>  :  " + B + "<br>"
        Middle += MakeLine(NumCols + 3)
        Middle += "<TR> <TD>Sum<TD>"    
	Middle += PrintTwosComp(ActualSum, NumDigits)   
        Middle += "<TD>  <TD>  :  <B>" + ActualSum + "</B><br>"
        Middle += "</TABLE><BR>"

	//Printing the Timing results in a table

	bigwidth = 30
	Middle += "<BR><BR><HR><BR><B>Delay Table</B><BR><BR>"
	Middle += "<TABLE BORDER CELLSPACING=4 BORDERCOLOR=#800080 CELLPADDING=7 WIDTH=" + bigwidth +">"
	Middle += "<P ALIGN=CENTER>"
	Middle += "<TR>"
	Middle += "<TD  VALIGN=TOP WIDTH=" + bigwidth +"><P ALIGN=CENTER> BlockNumber</TD>"
	
	for (counter = Numblocks; counter > 0; counter--)
      	Middle += "<TD  VALIGN=TOP WIDTH=" + bigwidth +"><P ALIGN=CENTER>" + counter + "</TD>"
        
	Middle += "</TR>"
	Middle += "<TR>"
	Middle += "<TD  VALIGN=TOP WIDTH=" + bigwidth +"><P ALIGN=CENTER>  SumDelay for the block</TD>"
	
	for (counter = Numblocks-1; counter >= 0; counter--)
		Middle += "<TD  VALIGN=TOP WIDTH=" + bigwidth +"><P ALIGN=CENTER>" + "(" + FinalSumTime[counter]  + ")units" + "</TD>"
	
	Middle += "</TR>"
	Middle += "<TR>"
	Middle += "<TD  VALIGN=TOP WIDTH=" + bigwidth +"><P ALIGN=CENTER>  Carry in available at</TD>"
	for (counter = Numblocks-1; counter >= 0; counter--)	
		Middle += "<TD  VALIGN=TOP WIDTH=" + bigwidth +"><P ALIGN=CENTER>" + "(" + FinalCarryTime[counter] + ")units" + "</TD>"
	
	Middle += "</TR>"
	Middle += "<TR>"
	Middle += "<TD  VALIGN=TOP WIDTH=" + bigwidth +"><P ALIGN=CENTER>  Final Sum available at</TD>"
	for (counter = Numblocks; counter > 0; counter--)
		Middle += "<TD  VALIGN=TOP WIDTH=" + bigwidth +"><P ALIGN=CENTER>" + "(" + FinalCarryTime[counter] + ")units" + "</TD>"

	Middle += "</TR>"
	Middle += "</P>"
	Middle += "</TABLE>"

	Middle += "<BR>"
        
	Bottom = "</BODY> </HTML>";

	if (Overflow)  { Middle = PrintError("Overflow") }
	if (Mixed)     { Middle = PrintError("Mixed numbers") }
	if (NotBinary) { Middle = PrintError("At least one number is non-binary ") }
	if (IndblkTotBits) { Middle = PrintError("Sum of Bits in the individual blocks is not equal to the Total Bits specified") }


	parent.frames[1].document.open()
	parent.frames[1].document.write(TheTop);
	parent.frames[1].document.write(Middle);
	parent.frames[1].document.write(Bottom);
	parent.frames[1].document.close()

}


</script>
</head>
<body bgcolor="#9FD854">

<center>
<h2>
Carry Select Adder</h2></center>
<form>A: <input type="text" name="A">
<br>B: <input type="text" name="B">
<br><i>bin<input type="radio" name="Base" value="Binary" checked>dec</i><input type="radio" name="Base" value="Decimal">
<table>
<tr>
<td>Total Bits</td>

<td><input type="text" name="NumBits" value=12 size=4></td>
</tr>

<tr>
<td>Individual Block Sizes</td>

<td><input type="string" name="IndBlkSize" size=5></td>
</tr>
</table>

<hr>
<table BORDER >
<caption><b>Signal Delays</b></caption>

<TR>
<TD>A<SUB>i</SUB> to C<SUB>i+1</SUB></TD>
<TD><INPUT type="text" name="AToCout" value=2.2 size=4></TD>
<TD>C<SUB>i</SUB> to C<SUB>i+1</SUB></TD>
<TD><INPUT type="text" name="CinToCout" value=1.9 size=4></TD>
</TR>

<TR>
<TD>C<SUB>i</SUB> to S<SUB>i  </SUB></TD>
<TD><INPUT type="text" name="CinToSum" value=2.5 size=4></TD>
<TD>A<SUB>i</SUB> to S<SUB>i  </SUB></TD>
<TD><INPUT type="text" name="AToSum" value=2.6 size=4></TD>
</TR>

<tr>
<td>Mux Delay</td>

<td><input type="text" name="muxdel" value=1.4 size=4></td>
</tr>
</table>

<center>
<p><input type="button" name="enter" value="Compute" onClick="CarrySkipAdd(this.form)">
<p><input TYPE="Reset"  VALUE="   Reset   " onClick=parent.frames[1].location.href="../tablet.html">
<p><input TYPE="button"  VALUE="   Help    " onClick=parent.frames[1].location.href="help.html"></center>
</form>
</body>
</html>
