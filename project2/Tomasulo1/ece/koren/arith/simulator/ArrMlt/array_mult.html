<HTML>
<HEAD>
<TITLE> Ripple Carry Adder With Timing</TITLE>
<SCRIPT language="JavaScript">

function MakeLine(NumColumns) 
{
	return "<TR> <TD colspan=" + NumColumns + "> <HR noshade size=1>\n";
}

function PrintError(Message) 
{
	Error = "<CENTER><H1> ERROR </H1></CENTER> <P>\n"
	Error += "<CENTER> <EM>" + Message + "</EM> </CENTER>\n"
	return Error
}

function IsInteger(Num) 
{
	return (Num == Math.floor(Num))
}

function OrderOfMagnitude (TheNum) 
{
	// returns the highest place which has a "1" in TheNum's
	// binary representation

	// to account for 2's complement representation...
	//alert ("TheNum is now " + TheNum)
	TheNum < 0 ? TheNum = (TheNum * -2) - 2 : TheNum *= 2
	//alert ("TheNum is now " + TheNum)

	LogBaseTwo = Math.log(TheNum)/Math.LN2;
	return Math.floor(LogBaseTwo)
}

function ParseBinary (BinNum) 
{
	// Turns a binary number into a decimal, sets a flag to true if
	// BinNum is not actually binary

	IsNeg = false
	if (BinNum < 0) 
	{
		IsNeg = true
		BinNum *= -1
	}
	RealNum = 0
	BinNum += Math.pow(10, -1 - NumBits) // kludge so processor
					     // won't mess up
	LogBaseTen = Math.log(BinNum)/Math.LN10
	HighestPlace = Math.ceil(LogBaseTen)
	for (CurPlace = HighestPlace; CurPlace >= -NumBits; CurPlace--) 
	{
		CurEntry = Math.floor(BinNum / Math.pow(10, CurPlace))
		if (CurEntry != 0 && CurEntry != 1) 
		{
			NotBinary = true
			CurEntry = 1 // feed it something normal, to avoid
					 // wierd Javascript errors
		}
		if (CurEntry == 1) 
		{
			RealNum += Math.pow(2, CurPlace)
			BinNum -= Math.pow(10, CurPlace)
		}
	}
	if (IsNeg) {RealNum *= -1} // reverse it back at the end

	// now check if the number was negative according to two's complement
	// representation - if it was, set the decimal value to this negative
	// number
	if (HighestPlace == NumBits)
		RealNum -= Math.pow(2, NumBits)

	// if (HighestPlace == 1)
	// 	RealNum -= Math.pow(2, 1)

	return RealNum
}

function RoundOff (TheNum) 
{
	// returns the value TheNum would have if it were represented by
	// NumDecimals bits after the decimal point
	Scaling = Math.pow(2, NumDecimals)
	return (Math.floor(TheNum * Scaling) / Scaling)
}



function PrintTwosComp(TheNum, StartPlace) 
{

	// first deal with negative numbers...
	if (TheNum < 0) {TheNum += Math.pow(2, StartPlace)}

	// now initialize the string
	S = "";
	S += "<TD> ";
	for (CurPlace = StartPlace - 1; CurPlace >= -NumDecimals; CurPlace--) 
	{
		if (CurPlace == -1) 
		{
			S += ".";
		}
		CurPower = Math.pow(2, CurPlace);
		if (TheNum >= CurPower) 
		{
			S += "1 ";
			TheNum -= CurPower
		} 
		else 
		{
			S += "0 "
		} 
	}
	return S;
}


function FeedIntoVariable(TheNum, StartPlace, ReturnArray) 
{
	if (TheNum < 0) {TheNum += Math.pow(2, StartPlace)}

	// now initialize the string
	index = StartPlace - 1
	for (CurPlace = StartPlace - 1; CurPlace >= -NumDecimals; CurPlace--) 
	{
		if (CurPlace == -1) 
		{
			ReturnArray[index] = 2;
			index --
		}
		CurPower = Math.pow(2, CurPlace);
		if (TheNum >= CurPower) 
		{
			ReturnArray[index] = 1;
			index --
			TheNum -= CurPower
		} 
		else 
		{
			ReturnArray[index] = 0;
			index --;
		} 
	}
	return ReturnArray
}


function PrintSumCarry(Middle, counter)
{
	Middle += MakeLine(NumCols + 3)
    Middle += "<TR><TD><TD>"
	if (counter == 1)
		Middle += "<TR><TD><h4>Time =  t</h4><TD><TD>"
	else
		Middle += "<TR><TD><h4>Time =  " + counter + "t</h4><TD><TD>"
    Middle += "<TR><TD>Carry     :    <TD><TD>" 
	for (loop=NumDigits-1;loop>=0;loop--)
 		Middle += " " + FinalCarry[loop];
    Middle += "<TR><TD>Sum       :    <TD><TD>"
	for (loop=NumDigits-1;loop>=0;loop--)
		Middle += " " + FinalSum[loop]
	

	return Middle
}


//Next function returns the larger of two numbers
function GetMax(Number1, Number2)
{
	if (Number1 > Number2)
		bigger = Number1
	else
		bigger = Number2

	return bigger
}


//Next function returns the smaller of two numbers
function GetMin(Number1, Number2)
{
	if (Number1 < Number2)
		smaller = Number1
	else
		smaller = Number2

	return smaller
}


//Next function returns the time needed to Calculate the Sum-time of this adder block
function CalculateSumTime(AToSum, CinToSum, PrevCarryTime)
{
	if (PrevCarryTime == 0)
		finalTime = GetMax(AToSum, CinToSum)
	else
	{
		if (CinToSum > AToSum)
			finalTime = PrevCarryTime + CinToSum
		else
		{
			if (PrevCarryTime < AToSum)
			{
				difference = AToSum - CinToSum
				finalTime = GetMax(difference, CinToSum) + PrevCarryTime
			}
			else
				finalTime = CinToSum + PrevCarryTime
		}
	}

	//Cross-checking for trivial case
	if (finalTime < AToSum)
		finalTime = AToSum
	if (finalTime < CinToSum)
		finalTime = CinToSum

	return finalTime	
}


//Next function returns the time needed to Calculate the Carry-time of this adder block
function CalculateCarryTime(AToCout, CinToCout, PrevCarryTime)
{
	if (PrevCarryTime == 0)
		CarryOutTime = GetMax(AToCout, CinToCout)
	else
	{
		if (CinToCout > AToCout)
			CarryOutTime = PrevCarryTime + CinToCout
		else
		{
			if (PrevCarryTime < AToCout)
			{
				difference = AToCout - CinToCout
				CarryOutTime = GetMax(difference, CinToCout) + PrevCarryTime
			}
			else
				CarryOutTime = CinToCout + PrevCarryTime
		}
	}

	//Cross-checking for trivial case
	if (CarryOutTime < AToCout)
		CarryOutTime = AToCout
	if (CarryOutTime < CinToCout)
		CarryOutTime = CinToCout

	return CarryOutTime	
}



function ArrayMult(form) 
{
	TheTop = "<HTML><HEAD><TITLE>Tablet</TITLE></HEAD><BODY bgcolor=white text=black>";
	
	A = parseFloat(form.A.value)
	X = parseFloat(form.X.value)

	CinToSum = parseFloat(form.CinToSum.value)
	AToSum = parseFloat(form.AToSum.value)
	CinToCout = parseFloat(form.CinToCout.value)
	AToCout = parseFloat(form.AToCout.value)

	ChoseBin = form.Base[0].checked
	ChoseDec = form.Base[1].checked
	NumBits = parseInt(form.NumBits.value)
	NotBinary = false
	if (ChoseBin) 
	{
		A = ParseBinary(A)
		X = ParseBinary(X)
	}

        Delay = (NumBits-2)*AToSum+AToCout+(NumBits-2)*CinToCout+CinToSum


	Fractional = false
	Overflow = false
        Small = false
        if (NumBits <=2)
                Small = true
	FractionalNum = (Math.abs(A) < 2) && (Math.abs(X) < 2)
	// bit to left of dec. pt. is sign bit 
	if (IsInteger(A) & IsInteger(X)) 
	{
		NumDecimals = 0
		NumDigits = NumBits
		if (Math.max(OrderOfMagnitude(A), OrderOfMagnitude(X)) + 1 > NumDigits) 
		{
			NumDigits = 0
			NumDecimals = 0
			Overflow = true
		}
	} 
	else 
	{
		if (FractionalNum) 
		{
			NumDigits = 1
			NumDecimals = NumBits - 1
                        Fractional = true
		} 
		else 
		{
			Fractional = true
			NumDigits = 0
			NumDecimals = 0    // just filler values 
		}
	}

	NumCols = (2 * NumDigits - 1) + NumDecimals

	
	A = RoundOff(A)
	X = RoundOff(X)

	Product = A*X

 
        Middle = "\n\n<table border=0 cellpading=0 cellspacing=0 width="+((2+2*(2*NumBits-2))*100)+">\n  <tr>\n    <td nowrap>\n"

	// now initialize two Input Arrays & two Output arrays
	FirstNumber = new Array(NumDigits)
	FeedIntoVariable(A, NumDigits,FirstNumber)
	SecondNumber = new Array(NumDigits)
	FeedIntoVariable(X, NumDigits,SecondNumber)

        V = new Array((NumBits-1)*NumBits)
	D = new Array((NumBits-1)*NumBits)
	H = new Array((NumBits-1)*NumBits)
	P = new Array(2*NumBits-1)

	Middle += "      <PRE>"
	Middle += "      <BR>"

      // work on top row
        //print blanks on left
	for (counter = 2*(NumBits-1)+1; counter > 0; counter--) 
	{
		Middle += "<IMG SRC = ./gifs/blank.gif>"
	}
        // prints msb inputs for top row of adders
        if ((FirstNumber[NumBits-1] == 0) && (SecondNumber[0] == 0))
        {
	     Middle += "<IMG SRC = ./gifs/vertn00.gif>"
             V[0] = 0
        }
        if ((FirstNumber[NumBits-1] == 0) && (SecondNumber[0] == 1))
	{
	     Middle += "<IMG SRC = ./gifs/vertn01.gif>"
	     V[0] = 0
	}
        if ((FirstNumber[NumBits-1] == 1) && (SecondNumber[0] == 0))
	{
	     Middle += "<IMG SRC = ./gifs/vertn10.gif>"
	     V[0] = 0
	}
        if ((FirstNumber[NumBits-1] == 1) && (SecondNumber[0] == 1))
	{
	     Middle += "<IMG SRC = ./gifs/vertn11.gif>"
	     V[0] = 1
	}
        Middle += "<IMG SRC = ./gifs/diaghalf.gif>"
        // initialize all carry ins to top
        for (x=0; x<NumBits-1; x++)
             D[x] = 0
	// initialize carry in in last row of ripple carry
	H[(NumBits-1)*(NumBits-1)+(NumBits-2)] = 0

        // prints rest of inputs for top row (except lsb)
        for (counter = NumBits-1; counter > 1; counter--)
	{   
	        if ((FirstNumber[counter-1] == 0) && (SecondNumber[0] == 0))
		{
			Middle += "<IMG SRC = ./gifs/vert00.gif>"
			V[NumBits-counter] = 0 
		}
		if ((FirstNumber[counter-1] == 0) && (SecondNumber[0] == 1))
		{
			Middle += "<IMG SRC = ./gifs/vert01.gif>"
			V[NumBits-counter] = 0
		}
		if ((FirstNumber[counter-1] == 1) && (SecondNumber[0] == 0))
		{
			Middle += "<IMG SRC = ./gifs/vert10.gif>"
			V[NumBits-counter] = 0
		}
		if ((FirstNumber[counter-1] == 1) && (SecondNumber[0] == 1))
		{
			Middle += "<IMG SRC = ./gifs/vert11.gif>"
			V[NumBits-counter] = 1
		}
                Middle += "<IMG SRC = ./gifs/diaghalf.gif>"
	}
        // lsb of 1st row
        if ((FirstNumber[0] == 0) && (SecondNumber[0] == 0))
	     Middle += "<IMG SRC = ./gifs/vert00row1.gif>"
	if ((FirstNumber[0] == 0) && (SecondNumber[0] == 1))
	     Middle += "<IMG SRC = ./gifs/vert01row1.gif>"
	if ((FirstNumber[0] == 1) && (SecondNumber[0] == 0))
	     Middle += "<IMG SRC = ./gifs/vert10row1.gif>"
	if ((FirstNumber[0] == 1) && (SecondNumber[0] == 1))
	     Middle += "<IMG SRC = ./gifs/vert11row1.gif>"
            
	Middle += "<BR>"
        // first row of adders
        // prints blanks
	for (counter = 2*(NumBits-1)+1; counter > 0; counter--) 
	{
                Middle += "<IMG SRC = ./gifs/blank.gif>"
	}
        // prints adders
        for (counter = NumBits-1; counter > 0; counter--)
	{   
	        if (counter == NumBits-1)
		{
		        Middle += "<IMG SRC = ./gifs/typeII.gif>"
               	        if ((FirstNumber[NumBits-2] == 0) && (SecondNumber[1] == 0))
			{
		        	Middle += "<IMG SRC = ./gifs/horhalf00.gif>"
				H[NumBits-1-counter] = 0
			}
		        if ((FirstNumber[NumBits-2] == 0) && (SecondNumber[1] == 1))
			{
				Middle += "<IMG SRC = ./gifs/horhalf01.gif>"
				H[NumBits-1-counter] = 0
			}
			if ((FirstNumber[NumBits-2] == 1) && (SecondNumber[1] == 0))
			{
				Middle += "<IMG SRC = ./gifs/horhalf10.gif>"
				H[NumBits-1-counter] = 0
			}
			if ((FirstNumber[NumBits-2] == 1) && (SecondNumber[1] == 1))
			{
				Middle += "<IMG SRC = ./gifs/horhalf11.gif>"
				H[NumBits-1-counter] = 1
			}
                }
		else
                { 
                        Middle += "<IMG SRC = ./gifs/typeI.gif>"
               	        if ((FirstNumber[counter-1] == 0) && (SecondNumber[1] == 0))
			{
		        	Middle += "<IMG SRC = ./gifs/horhalf00.gif>"
				H[NumBits-1-counter] = 0
			}
		        if ((FirstNumber[counter-1] == 0) && (SecondNumber[1] == 1))
			{
				Middle += "<IMG SRC = ./gifs/horhalf01.gif>"
				H[NumBits-1-counter] = 0
			}
			if ((FirstNumber[counter-1] == 1) && (SecondNumber[1] == 0))
			{
				Middle += "<IMG SRC = ./gifs/horhalf10.gif>"
				H[NumBits-1-counter] = 0
			}
			if ((FirstNumber[counter-1] == 1) && (SecondNumber[1] == 1))
			{
				Middle += "<IMG SRC = ./gifs/horhalf11.gif>"
				H[NumBits-1-counter] = 1
			}
		}
        }
        // vertical line
        Middle += "<IMG SRC = ./gifs/vert.gif>"	    	
	Middle += "<BR>"

        //start loop for middle rows (each row consists of a row of vertical/
        // diagonal lines followed by a row of adders)
        // skips last 2 rows of adders
        for (rows = 2; rows <= NumBits-2; rows++)
        {
             // start on row with vertical and diagonal lines
		// print blank columns
      		for (counter = 2*(NumBits-1)+1-2*(rows-1); counter > 0; counter--)
 		{
			Middle += "<IMG SRC = ./gifs/blank.gif>"
		}
                // prints msb input for adder
                if ((FirstNumber[NumBits-1] == 0) && (SecondNumber[rows-1] == 0))
		{
        	     Middle += "<IMG SRC = ./gifs/vertn00.gif>"
		     V[(NumBits-1)*(rows-1)] = 0
		}
                if ((FirstNumber[NumBits-1] == 0) && (SecondNumber[rows-1] == 1))
		{
        	     Middle += "<IMG SRC = ./gifs/vertn01.gif>"
		     V[(NumBits-1)*(rows-1)] = 0
		}
                if ((FirstNumber[NumBits-1] == 1) && (SecondNumber[rows-1] == 0))
		{
        	     Middle += "<IMG SRC = ./gifs/vertn10.gif>"
		     V[(NumBits-1)*(rows-1)] = 0
		}
                if ((FirstNumber[NumBits-1] == 1) && (SecondNumber[rows-1] == 1))
		{
        	     Middle += "<IMG SRC = ./gifs/vertn11.gif>"
		     V[(NumBits-1)*(rows-1)] = 1
		}
		if ((V[(NumBits-1)*(rows-2)] == 0) && (H[(NumBits-1)*(rows-2)] == 0) && D[(NumBits-1)*(rows-2)] == 0)
		{
		    D[(NumBits-1)*(rows-1)] = 0
                    Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		}
		if ((V[(NumBits-1)*(rows-2)] == 0) && (H[(NumBits-1)*(rows-2)] == 0) && D[(NumBits-1)*(rows-2)] == 1)
		{
		    D[(NumBits-1)*(rows-1)] = 1
                    Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		}
		if ((V[(NumBits-1)*(rows-2)] == 0) && (H[(NumBits-1)*(rows-2)] == 1) && D[(NumBits-1)*(rows-2)] == 0)
		{
		    D[(NumBits-1)*(rows-1)] = 1
                    Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		}
		if ((V[(NumBits-1)*(rows-2)] == 0) && (H[(NumBits-1)*(rows-2)] == 1) && D[(NumBits-1)*(rows-2)] == 1)
		{
		    D[(NumBits-1)*(rows-1)] = 1
                    Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		}
		if ((V[(NumBits-1)*(rows-2)] == 1) && (H[(NumBits-1)*(rows-2)] == 0) && D[(NumBits-1)*(rows-2)] == 0)
		{
		    D[(NumBits-1)*(rows-1)] = 0
                    Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		}
		if ((V[(NumBits-1)*(rows-2)] == 1) && (H[(NumBits-1)*(rows-2)] == 0) && D[(NumBits-1)*(rows-2)] == 1)
		{
		    D[(NumBits-1)*(rows-1)] = 0
                    Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		}
		if ((V[(NumBits-1)*(rows-2)] == 1) && (H[(NumBits-1)*(rows-2)] == 1) && D[(NumBits-1)*(rows-2)] == 0)
		{
		    D[(NumBits-1)*(rows-1)] = 0
                    Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		}
		if ((V[(NumBits-1)*(rows-2)] == 1) && (H[(NumBits-1)*(rows-2)] == 1) && D[(NumBits-1)*(rows-2)] == 1)
		{
		    D[(NumBits-1)*(rows-1)] = 1
                    Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		}
                // print vertical inputs for remaining typeII cells
        	for (counter = 1; counter < rows; counter++)
                {   
                    if ((V[(NumBits-1)*(rows-2)+counter-1] == 0) && (H[(NumBits-1)*(rows-2)+counter-1] == 0) && D[(NumBits-1)*(rows-2)+counter-1] == 0)
                    {
                        V[(NumBits-1)*(rows-1)+counter] = 0
                        Middle += "<IMG SRC = ./gifs/vertn0.gif>"
                    }
                    if ((V[(NumBits-1)*(rows-2)+counter-1] == 0) && (H[(NumBits-1)*(rows-2)+counter-1] == 0) && D[(NumBits-1)*(rows-2)+counter-1] == 1)
                    {
                        V[(NumBits-1)*(rows-1)+counter] = 1
                        Middle += "<IMG SRC = ./gifs/vertn1.gif>"
                    }
                    if ((V[(NumBits-1)*(rows-2)+counter-1] == 0) && (H[(NumBits-1)*(rows-2)+counter-1] == 1) && D[(NumBits-1)*(rows-2)+counter-1] == 0)
                    {
                        V[(NumBits-1)*(rows-1)+counter] = 1
                        Middle += "<IMG SRC = ./gifs/vertn1.gif>"
                    }
                    if ((V[(NumBits-1)*(rows-2)+counter-1] == 0) && (H[(NumBits-1)*(rows-2)+counter-1] == 1) && D[(NumBits-1)*(rows-2)+counter-1] == 1)
                    {
                        V[(NumBits-1)*(rows-1)+counter] = 0
                        Middle += "<IMG SRC = ./gifs/vertn0.gif>"
                    }
                    if ((V[(NumBits-1)*(rows-2)+counter-1] == 1) && (H[(NumBits-1)*(rows-2)+counter-1] == 0) && D[(NumBits-1)*(rows-2)+counter-1] == 0)
                    {
                        V[(NumBits-1)*(rows-1)+counter] = 1
                        Middle += "<IMG SRC = ./gifs/vertn1.gif>"
                    }
                    if ((V[(NumBits-1)*(rows-2)+counter-1] == 1) && (H[(NumBits-1)*(rows-2)+counter-1] == 0) && D[(NumBits-1)*(rows-2)+counter-1] == 1)
                    {
                        V[(NumBits-1)*(rows-1)+counter] = 0
                        Middle += "<IMG SRC = ./gifs/vertn0.gif>"
                    }
                    if ((V[(NumBits-1)*(rows-2)+counter-1] == 1) && (H[(NumBits-1)*(rows-2)+counter-1] == 1) && D[(NumBits-1)*(rows-2)+counter-1] == 0)
                    {
                        V[(NumBits-1)*(rows-1)+counter] = 0
                        Middle += "<IMG SRC = ./gifs/vertn0.gif>"
                    }
                    if ((V[(NumBits-1)*(rows-2)+counter-1] == 1) && (H[(NumBits-1)*(rows-2)+counter-1] == 1) && D[(NumBits-1)*(rows-2)+counter-1] == 1)
                    {
                        V[(NumBits-1)*(rows-1)+counter] = 1
                        Middle += "<IMG SRC = ./gifs/vertn1.gif>"
                    }
		    // diagonal inputs for remaining typeII cells
                    // must calculate value of diagonal differently if it is the last typeII cell in the row
                    if (counter == rows-1)
		    {
                        if ((V[(NumBits-1)*(rows-2)+rows-1] == 0) && (H[(NumBits-1)*(rows-2)+rows-1] == 0) && D[(NumBits-1)*(rows-2)+rows-1] == 0)
                        {
                            D[(NumBits-1)*(rows-1)+rows-1] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+rows-1] == 0) && (H[(NumBits-1)*(rows-2)+rows-1] == 0) && D[(NumBits-1)*(rows-2)+rows-1] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+rows-1] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+rows-1] == 0) && (H[(NumBits-1)*(rows-2)+rows-1] == 1) && D[(NumBits-1)*(rows-2)+rows-1] == 0)
                        {
                            D[(NumBits-1)*(rows-1)+rows-1] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+rows-1] == 0) && (H[(NumBits-1)*(rows-2)+rows-1] == 1) && D[(NumBits-1)*(rows-2)+rows-1] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+rows-1] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+rows-1] == 1) && (H[(NumBits-1)*(rows-2)+rows-1] == 0) && D[(NumBits-1)*(rows-2)+rows-1] == 0)
                        {
                            D[(NumBits-1)*(rows-1)+rows-1] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+rows-1] == 1) && (H[(NumBits-1)*(rows-2)+rows-1] == 0) && D[(NumBits-1)*(rows-2)+rows-1] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+rows-1] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+rows-1] == 1) && (H[(NumBits-1)*(rows-2)+rows-1] == 1) && D[(NumBits-1)*(rows-2)+rows-1] == 0)
                        {
                            D[(NumBits-1)*(rows-1)+rows-1] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+rows-1] == 1) && (H[(NumBits-1)*(rows-2)+rows-1] == 1) && D[(NumBits-1)*(rows-2)+rows-1] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+rows-1] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
		    }
		    else // not last typeII cell
		    {
                        if ((V[(NumBits-1)*(rows-2)+counter] == 0) && (H[(NumBits-1)*(rows-2)+counter] == 0) && D[(NumBits-1)*(rows-2)+counter] == 0)
                        {
                            D[(NumBits-1)*(rows-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+counter] == 0) && (H[(NumBits-1)*(rows-2)+counter] == 0) && D[(NumBits-1)*(rows-2)+counter] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+counter] == 0) && (H[(NumBits-1)*(rows-2)+counter] == 1) && D[(NumBits-1)*(rows-2)+counter] == 0)
                        {
                            D[(NumBits-1)*(rows-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+counter] == 0) && (H[(NumBits-1)*(rows-2)+counter] == 1) && D[(NumBits-1)*(rows-2)+counter] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+counter] == 1) && (H[(NumBits-1)*(rows-2)+counter] == 0) && D[(NumBits-1)*(rows-2)+counter] == 0)
                        {
                            D[(NumBits-1)*(rows-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+counter] == 1) && (H[(NumBits-1)*(rows-2)+counter] == 0) && D[(NumBits-1)*(rows-2)+counter] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+counter] == 1) && (H[(NumBits-1)*(rows-2)+counter] == 1) && D[(NumBits-1)*(rows-2)+counter] == 0)
                        {
                            D[(NumBits-1)*(rows-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
                        }
                        if ((V[(NumBits-1)*(rows-2)+counter] == 1) && (H[(NumBits-1)*(rows-2)+counter] == 1) && D[(NumBits-1)*(rows-2)+counter] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
		    } // end else
                } // end for for typeII inputs
                // prints number of typeI inputs required for row
                for (counter = 1; counter <= NumBits-1-rows; counter++)
		{
        		if ((V[(NumBits-1)*(rows-2)+rows-2+counter] == 0) && (H[(NumBits-1)*(rows-2)+rows-2+counter] == 0) && D[(NumBits-1)*(rows-2)+rows-2+counter] == 0)
	        	{
		            V[(NumBits-1)*(rows-1)+(rows-1+counter)] = 0
                            Middle += "<IMG SRC = ./gifs/vertp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(rows-2)+rows-2+counter] == 0) && (H[(NumBits-1)*(rows-2)+rows-2+counter] == 0) && D[(NumBits-1)*(rows-2)+rows-2+counter] == 1)
           		{
		            V[(NumBits-1)*(rows-1)+(rows-1+counter)] = 1
                            Middle += "<IMG SRC = ./gifs/vertp1.gif>"
	         	}
		        if ((V[(NumBits-1)*(rows-2)+rows-2+counter] == 0) && (H[(NumBits-1)*(rows-2)+rows-2+counter] == 1) && D[(NumBits-1)*(rows-2)+rows-2+counter] == 0)
           		{
		            V[(NumBits-1)*(rows-1)+(rows-1+counter)] = 1
                            Middle += "<IMG SRC = ./gifs/vertp1.gif>"
		        }
                        if ((V[(NumBits-1)*(rows-2)+rows-2+counter] == 0) && (H[(NumBits-1)*(rows-2)+rows-2+counter] == 1) && D[(NumBits-1)*(rows-2)+rows-2+counter] == 1)
                        {
                            V[(NumBits-1)*(rows-1)+(rows-1+counter)] = 0
                            Middle += "<IMG SRC = ./gifs/vertp0.gif>"
                        }
        		if ((V[(NumBits-1)*(rows-2)+rows-2+counter] == 1) && (H[(NumBits-1)*(rows-2)+rows-2+counter] == 0) && D[(NumBits-1)*(rows-2)+rows-2+counter] == 0)
	        	{
		            V[(NumBits-1)*(rows-1)+(rows-1+counter)] = 1
                            Middle += "<IMG SRC = ./gifs/vertp1.gif>"
	         	}
		        if ((V[(NumBits-1)*(rows-2)+rows-2+counter] == 1) && (H[(NumBits-1)*(rows-2)+rows-2+counter] == 0) && D[(NumBits-1)*(rows-2)+rows-2+counter] == 1)
           		{
		            V[(NumBits-1)*(rows-1)+(rows-1+counter)] = 0
                            Middle += "<IMG SRC = ./gifs/vertp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(rows-2)+rows-2+counter] == 1) && (H[(NumBits-1)*(rows-2)+rows-2+counter] == 1) && D[(NumBits-1)*(rows-2)+rows-2+counter] == 0)
           		{
		            V[(NumBits-1)*(rows-1)+(rows-1+counter)] = 0
                            Middle += "<IMG SRC = ./gifs/vertp0.gif>"
		        }
                        if ((V[(NumBits-1)*(rows-2)+rows-2+counter] == 1) && (H[(NumBits-1)*(rows-2)+rows-2+counter] == 1) && D[(NumBits-1)*(rows-2)+rows-2+counter] == 1)
                        {
                            V[(NumBits-1)*(rows-1)+(rows-1+counter)] = 1
                            Middle += "<IMG SRC = ./gifs/vertp1.gif>"
                        }
                        // diagaonals
        		if ((V[(NumBits-1)*(rows-2)+rows-1+counter] == 0) && (H[(NumBits-1)*(rows-2)+rows-1+counter] == 0) && D[(NumBits-1)*(rows-2)+rows-1+counter] == 0)
	        	{
		            D[(NumBits-1)*(rows-1)+(rows-1+counter)] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(rows-2)+rows-1+counter] == 0) && (H[(NumBits-1)*(rows-2)+rows-1+counter] == 0) && D[(NumBits-1)*(rows-2)+rows-1+counter] == 1)
           		{
		            D[(NumBits-1)*(rows-1)+(rows-1+counter)] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(rows-2)+rows-1+counter] == 0) && (H[(NumBits-1)*(rows-2)+rows-1+counter] == 1) && D[(NumBits-1)*(rows-2)+rows-1+counter] == 0)
           		{
		            D[(NumBits-1)*(rows-1)+(rows-1+counter)] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		        }
                        if ((V[(NumBits-1)*(rows-2)+rows-1+counter] == 0) && (H[(NumBits-1)*(rows-2)+rows-1+counter] == 1) && D[(NumBits-1)*(rows-2)+rows-1+counter] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+(rows-1+counter)] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
        		if ((V[(NumBits-1)*(rows-2)+rows-1+counter] == 1) && (H[(NumBits-1)*(rows-2)+rows-1+counter] == 0) && D[(NumBits-1)*(rows-2)+rows-1+counter] == 0)
	        	{
		            D[(NumBits-1)*(rows-1)+(rows-1+counter)] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(rows-2)+rows-1+counter] == 1) && (H[(NumBits-1)*(rows-2)+rows-1+counter] == 0) && D[(NumBits-1)*(rows-2)+rows-1+counter] == 1)
           		{
		            D[(NumBits-1)*(rows-1)+(rows-1+counter)] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
	         	}
		        if ((V[(NumBits-1)*(rows-2)+rows-1+counter] == 1) && (H[(NumBits-1)*(rows-2)+rows-1+counter] == 1) && D[(NumBits-1)*(rows-2)+rows-1+counter] == 0)
           		{
		            D[(NumBits-1)*(rows-1)+(rows-1+counter)] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		        }
                        if ((V[(NumBits-1)*(rows-2)+rows-1+counter] == 1) && (H[(NumBits-1)*(rows-2)+rows-1+counter] == 1) && D[(NumBits-1)*(rows-2)+rows-1+counter] == 1)
                        {
                            D[(NumBits-1)*(rows-1)+(rows-1+counter)] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
		}
                Middle += "<IMG SRC = ./gifs/vert.gif>"
                // prints number of vertical lines required for row
                for (counter = 1; counter <= rows-1; counter++)
		{
                     Middle += "<IMG SRC = ./gifs/blank.gif>"
                     Middle += "<IMG SRC = ./gifs/vert.gif>"
		}
	        Middle += "<BR>"
             // now work on row with adders
		// print blank columns
      		for (counter = 2*(NumBits-1)+1-2*(rows-1); counter > 0; counter--)
 		{
			Middle += "<IMG SRC = ./gifs/blank.gif>"
		}
                // print msb typeII cell followed by its horizontal input
                Middle += "<IMG SRC = ./gifs/typeII.gif>"
              	if ((FirstNumber[NumBits-2] == 0) && (SecondNumber[rows] == 0))
		{
		       	Middle += "<IMG SRC = ./gifs/horhalf00.gif>"
                        H[(NumBits-1)*(rows-1)] = 0
		}
		if ((FirstNumber[NumBits-2] == 0) && (SecondNumber[rows] == 1))
		{
			Middle += "<IMG SRC = ./gifs/horhalf01.gif>"
			H[(NumBits-1)*(rows-1)] = 0
		}
		if ((FirstNumber[NumBits-2] == 1) && (SecondNumber[rows] == 0))
		{
			Middle += "<IMG SRC = ./gifs/horhalf10.gif>"
			H[(NumBits-1)*(rows-1)] = 0
		}
		if ((FirstNumber[NumBits-2] == 1) && (SecondNumber[rows] == 1))
		{
			Middle += "<IMG SRC = ./gifs/horhalf11.gif>"
			H[(NumBits-1)*(rows-1)] = 1
		}
	        // prints number of typeII-1 for row followed by its horizontal input
        	for (counter = 1; counter < rows; counter++)
		{     	
			Middle += "<IMG SRC = ./gifs/typeII.gif>"
               		if ((FirstNumber[NumBits-2-counter] == 0) && (SecondNumber[rows] == 0))
			{
		        	Middle += "<IMG SRC = ./gifs/horhalf00.gif>"
				H[(NumBits-1)*(rows-1)+counter] = 0
			}
			if ((FirstNumber[NumBits-2-counter] == 0) && (SecondNumber[rows] == 1))
			{
				Middle += "<IMG SRC = ./gifs/horhalf01.gif>"
				H[(NumBits-1)*(rows-1)+counter] = 0
			}
			if ((FirstNumber[NumBits-2-counter] == 1) && (SecondNumber[rows] == 0))
			{
				Middle += "<IMG SRC = ./gifs/horhalf10.gif>"
				H[(NumBits-1)*(rows-1)+counter] = 0
			}
		 	if ((FirstNumber[NumBits-2-counter] == 1) && (SecondNumber[rows] == 1))
			{
				Middle += "<IMG SRC = ./gifs/horhalf11.gif>"
				H[(NumBits-1)*(rows-1)+counter] = 1
			}
		}
                // prints number of typeI for row followed by horizontal input
                for (counter = 1; counter <= NumBits-1-rows; counter++)
		{
                     	Middle += "<IMG SRC = ./gifs/typeI.gif>"
               	        if ((FirstNumber[NumBits-3-counter-rows+2] == 0) && (SecondNumber[rows] == 0))
			{
		        	Middle += "<IMG SRC = ./gifs/horhalf00.gif>"
				H[(NumBits-1)*(rows-1)+counter+rows-1] = 0
			}
		        if ((FirstNumber[NumBits-3-counter-rows+2] == 0) && (SecondNumber[rows] == 1))
			{
				Middle += "<IMG SRC = ./gifs/horhalf01.gif>"
				H[(NumBits-1)*(rows-1)+counter+rows-1] = 0
			}
			if ((FirstNumber[NumBits-3-counter-rows+2] == 1) && (SecondNumber[rows] == 0))
			{
				Middle += "<IMG SRC = ./gifs/horhalf10.gif>"
				H[(NumBits-1)*(rows-1)+counter+rows-1] = 0
			}
			if ((FirstNumber[NumBits-3-counter-rows+2] == 1) && (SecondNumber[rows] == 1))
			{
				Middle += "<IMG SRC = ./gifs/horhalf11.gif>"
				H[(NumBits-1)*(rows-1)+counter+rows-1] = 1
			}
		}
                Middle += "<IMG SRC = ./gifs/vert.gif>"
                // finsished row with vertical lines if necessary
                for (counter = 1; counter <= rows-1; counter++)
		{
                     Middle += "<IMG SRC = ./gifs/blank.gif>"
                     Middle += "<IMG SRC = ./gifs/vert.gif>"
		}
	        Middle += "<BR>"
        } // end rows loop
      // work on second to last row
        rows = NumBits - 1
        for (counter = 2*(NumBits-1)+1-2*(rows-1); counter > 0; counter--)
 	{
		Middle += "<IMG SRC = ./gifs/blank.gif>"
	}
        // prints msb inputs for 2nd to last row of adders
                if ((FirstNumber[NumBits-1] == 0) && (SecondNumber[NumBits-2] == 0))
		{
        	     Middle += "<IMG SRC = ./gifs/vertn00.gif>"
		     V[(NumBits-1)*(NumBits-2)] = 0
		}
                if ((FirstNumber[NumBits-1] == 0) && (SecondNumber[NumBits-2] == 1))
		{
        	     Middle += "<IMG SRC = ./gifs/vertn01.gif>"
		     V[(NumBits-1)*(NumBits-2)] = 0
		}
                if ((FirstNumber[NumBits-1] == 1) && (SecondNumber[NumBits-2] == 0))
		{
        	     Middle += "<IMG SRC = ./gifs/vertn10.gif>"
		     V[(NumBits-1)*(NumBits-2)] = 0
		}
                if ((FirstNumber[NumBits-1] == 1) && (SecondNumber[NumBits-2] == 1))
		{
        	     Middle += "<IMG SRC = ./gifs/vertn11.gif>"
		     V[(NumBits-1)*(NumBits-2)] = 1
		}
		if ((V[(NumBits-1)*(NumBits-3)] == 0) && (H[(NumBits-1)*(NumBits-3)] == 0) && D[(NumBits-1)*(NumBits-3)] == 0)
		{
		    D[(NumBits-1)*(NumBits-2)] = 0
                    Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-3)] == 0) && (H[(NumBits-1)*(NumBits-3)] == 0) && D[(NumBits-1)*(NumBits-3)] == 1)
		{
		    D[(NumBits-1)*(NumBits-2)] = 1
                    Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-3)] == 0) && (H[(NumBits-1)*(NumBits-3)] == 1) && D[(NumBits-1)*(NumBits-3)] == 0)
		{
		    D[(NumBits-1)*(NumBits-2)] = 1
                    Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-3)] == 0) && (H[(NumBits-1)*(NumBits-3)] == 1) && D[(NumBits-1)*(NumBits-3)] == 1)
		{
		    D[(NumBits-1)*(NumBits-2)] = 1
                    Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-3)] == 1) && (H[(NumBits-1)*(NumBits-3)] == 0) && D[(NumBits-1)*(NumBits-3)] == 0)
		{
		    D[(NumBits-1)*(NumBits-2)] = 0
                    Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-3)] == 1) && (H[(NumBits-1)*(NumBits-3)] == 0) && D[(NumBits-1)*(NumBits-3)] == 1)
		{
		    D[(NumBits-1)*(NumBits-2)] = 0
                    Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-3)] == 1) && (H[(NumBits-1)*(NumBits-3)] == 1) && D[(NumBits-1)*(NumBits-3)] == 0)
		{
		    D[(NumBits-1)*(NumBits-2)] = 0
                    Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-3)] == 1) && (H[(NumBits-1)*(NumBits-3)] == 1) && D[(NumBits-1)*(NumBits-3)] == 1)
		{
		    D[(NumBits-1)*(NumBits-2)] = 1
                    Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		}

        // prints number of typeII' inputs-1 (bubbles) required for row
      	for (counter = 1; counter < NumBits-1; counter++)
	{     	
       		if ((V[(NumBits-1)*(NumBits-3)+counter-1] == 0) && (H[(NumBits-1)*(NumBits-3)+counter-1] == 0) && D[(NumBits-1)*(NumBits-3)+counter-1] == 0)
	        	{
		            V[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/vertn0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter-1] == 0) && (H[(NumBits-1)*(NumBits-3)+counter-1] == 0) && D[(NumBits-1)*(NumBits-3)+counter-1] == 1)
           		{
		            V[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/vertn1.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter-1] == 0) && (H[(NumBits-1)*(NumBits-3)+counter-1] == 1) && D[(NumBits-1)*(NumBits-3)+counter-1] == 0)
           		{
		            V[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/vertn1.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-3)+counter-1] == 0) && (H[(NumBits-1)*(NumBits-3)+counter-1] == 1) && D[(NumBits-1)*(NumBits-3)+counter-1] == 1)
                        {
                            V[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/vertn0.gif>"
                        }
        		if ((V[(NumBits-1)*(NumBits-3)+counter-1] == 1) && (H[(NumBits-1)*(NumBits-3)+counter-1] == 0) && D[(NumBits-1)*(NumBits-3)+counter-1] == 0)
	        	{
		            V[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/vertn1.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter-1] == 1) && (H[(NumBits-1)*(NumBits-3)+counter-1] == 0) && D[(NumBits-1)*(NumBits-3)+counter-1] == 1)
           		{
		            V[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/vertn0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter-1] == 1) && (H[(NumBits-1)*(NumBits-3)+counter-1] == 1) && D[(NumBits-1)*(NumBits-3)+counter-1] == 0)
           		{
		            V[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/vertn0.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-3)+counter-1] == 1) && (H[(NumBits-1)*(NumBits-3)+counter-1] == 1) && D[(NumBits-1)*(NumBits-3)+counter-1] == 1)
                        {
                            V[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/vertn1.gif>"
                        }
                        // diagonals (must check for last one)
			if (counter == NumBits-2)
			{
        		if ((V[(NumBits-1)*(NumBits-3)+counter] == 0) && (H[(NumBits-1)*(NumBits-3)+counter] == 0) && D[(NumBits-1)*(NumBits-3)+counter] == 0)
	        	{
		            D[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter] == 0) && (H[(NumBits-1)*(NumBits-3)+counter] == 0) && D[(NumBits-1)*(NumBits-3)+counter] == 1)
           		{
		            D[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter] == 0) && (H[(NumBits-1)*(NumBits-3)+counter] == 1) && D[(NumBits-1)*(NumBits-3)+counter] == 0)
           		{
		            D[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-3)+counter] == 0) && (H[(NumBits-1)*(NumBits-3)+counter] == 1) && D[(NumBits-1)*(NumBits-3)+counter] == 1)
                        {
                            D[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
        		if ((V[(NumBits-1)*(NumBits-3)+counter] == 1) && (H[(NumBits-1)*(NumBits-3)+counter] == 0) && D[(NumBits-1)*(NumBits-3)+counter] == 0)
	        	{
		            D[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter] == 1) && (H[(NumBits-1)*(NumBits-3)+counter] == 0) && D[(NumBits-1)*(NumBits-3)+counter] == 1)
           		{
		            D[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter] == 1) && (H[(NumBits-1)*(NumBits-3)+counter] == 1) && D[(NumBits-1)*(NumBits-3)+counter] == 0)
           		{
		            D[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-3)+counter] == 1) && (H[(NumBits-1)*(NumBits-3)+counter] == 1) && D[(NumBits-1)*(NumBits-3)+counter] == 1)
                        {
                            D[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
			}
			else
			{
        		if ((V[(NumBits-1)*(NumBits-3)+counter] == 0) && (H[(NumBits-1)*(NumBits-3)+counter] == 0) && D[(NumBits-1)*(NumBits-3)+counter] == 0)
	        	{
		            D[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter] == 0) && (H[(NumBits-1)*(NumBits-3)+counter] == 0) && D[(NumBits-1)*(NumBits-3)+counter] == 1)
           		{
		            D[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter] == 0) && (H[(NumBits-1)*(NumBits-3)+counter] == 1) && D[(NumBits-1)*(NumBits-3)+counter] == 0)
           		{
		            D[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-3)+counter] == 0) && (H[(NumBits-1)*(NumBits-3)+counter] == 1) && D[(NumBits-1)*(NumBits-3)+counter] == 1)
                        {
                            D[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
        		if ((V[(NumBits-1)*(NumBits-3)+counter] == 1) && (H[(NumBits-1)*(NumBits-3)+counter] == 0) && D[(NumBits-1)*(NumBits-3)+counter] == 0)
	        	{
		            D[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter] == 1) && (H[(NumBits-1)*(NumBits-3)+counter] == 0) && D[(NumBits-1)*(NumBits-3)+counter] == 1)
           		{
		            D[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-3)+counter] == 1) && (H[(NumBits-1)*(NumBits-3)+counter] == 1) && D[(NumBits-1)*(NumBits-3)+counter] == 0)
           		{
		            D[(NumBits-1)*(NumBits-2)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagp0.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-3)+counter] == 1) && (H[(NumBits-1)*(NumBits-3)+counter] == 1) && D[(NumBits-1)*(NumBits-3)+counter] == 1)
                        {
                            D[(NumBits-1)*(NumBits-2)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagp1.gif>"
                        }
			}
                  
                        

	}
        Middle += "<IMG SRC = ./gifs/vert.gif>"
        // prints more vertical lines and blanks
        for (counter = 1; counter <= NumBits-2; counter++)
	{
                 Middle += "<IMG SRC = ./gifs/blank.gif>"
                 Middle += "<IMG SRC = ./gifs/vert.gif>"
	}
	Middle += "<BR>"
        // now work on row with adders (2nd to last row of adders)
	// print blank columns
      	for (counter = 2*(NumBits-1)+1-2*(rows-1); counter > 0; counter--)
 	{
		Middle += "<IMG SRC = ./gifs/blank.gif>"
	}
	// print msb typeII' cell followed by its horizontal input
        for (counter = 1; counter < NumBits; counter++)
	{
                Middle += "<IMG SRC = ./gifs/typeIIp.gif>"
                if ((FirstNumber[NumBits-1-counter] == 0) && (SecondNumber[NumBits-1] == 0))
		{
		      Middle += "<IMG SRC = ./gifs/horhalfn00.gif>"
                      H[(NumBits-1)*(NumBits-2)+counter-1] = 0
		}
		if ((FirstNumber[NumBits-1-counter] == 0) && (SecondNumber[NumBits-1] == 1))
		{
		      Middle += "<IMG SRC = ./gifs/horhalfn01.gif>"
                      H[(NumBits-1)*(NumBits-2)+counter-1] = 0
		}
		if ((FirstNumber[NumBits-1-counter] == 1) && (SecondNumber[NumBits-1] == 0))
		{
		      Middle += "<IMG SRC = ./gifs/horhalfn10.gif>"
                      H[(NumBits-1)*(NumBits-2)+counter-1] = 0
		}
		if ((FirstNumber[NumBits-1-counter] == 1) && (SecondNumber[NumBits-1] == 1))
		{
		      Middle += "<IMG SRC = ./gifs/horhalfn11.gif>"
                      H[(NumBits-1)*(NumBits-2)+counter-1] = 1
		}
	}
        Middle += "<IMG SRC = ./gifs/vert.gif>"
        // finsish row with vertical lines (rows=NumBits-1)
        for (counter = 1; counter <= rows-1; counter++)
	{
                Middle += "<IMG SRC = ./gifs/blank.gif>"
                Middle += "<IMG SRC = ./gifs/vert.gif>"
	}
	Middle += "<BR>"
        // work on last row

        rows = NumBits
        // only 1 blank on last row
	Middle += "<IMG SRC = ./gifs/blank.gif>"
        // prints msb input for last row of adders
                if ((FirstNumber[NumBits-1] == 0) && (SecondNumber[NumBits-1] == 0))
		{
        	     Middle += "<IMG SRC = ./gifs/vert00.gif>"
		     V[(NumBits-1)*(NumBits-1)] = 0
		}
                if ((FirstNumber[NumBits-1] == 0) && (SecondNumber[NumBits-1] == 1))
		{
        	     Middle += "<IMG SRC = ./gifs/vert01.gif>"
		     V[(NumBits-1)*(NumBits-1)] = 0
		}
                if ((FirstNumber[NumBits-1] == 1) && (SecondNumber[NumBits-1] == 0))
		{
        	     Middle += "<IMG SRC = ./gifs/vert10.gif>"
		     V[(NumBits-1)*(NumBits-1)] = 0
		}
                if ((FirstNumber[NumBits-1] == 1) && (SecondNumber[NumBits-1] == 1))
		{
        	     Middle += "<IMG SRC = ./gifs/vert11.gif>"
		     V[(NumBits-1)*(NumBits-1)] = 1
		}
		if ((V[(NumBits-1)*(NumBits-2)] == 0) && (H[(NumBits-1)*(NumBits-2)] == 0) && D[(NumBits-1)*(NumBits-2)] == 0)
		{
		    D[(NumBits-1)*(NumBits-1)] = 0
                    Middle += "<IMG SRC = ./gifs/diagn0.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-2)] == 0) && (H[(NumBits-1)*(NumBits-2)] == 0) && D[(NumBits-1)*(NumBits-2)] == 1)
		{
		    D[(NumBits-1)*(NumBits-1)] = 0
                    Middle += "<IMG SRC = ./gifs/diagn0.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-2)] == 0) && (H[(NumBits-1)*(NumBits-2)] == 1) && D[(NumBits-1)*(NumBits-2)] == 0)
		{
		    D[(NumBits-1)*(NumBits-1)] = 1
                    Middle += "<IMG SRC = ./gifs/diagn1.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-2)] == 0) && (H[(NumBits-1)*(NumBits-2)] == 1) && D[(NumBits-1)*(NumBits-2)] == 1)
		{
		    D[(NumBits-1)*(NumBits-1)] = 0
                    Middle += "<IMG SRC = ./gifs/diagn0.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-2)] == 1) && (H[(NumBits-1)*(NumBits-2)] == 0) && D[(NumBits-1)*(NumBits-2)] == 0)
		{
		    D[(NumBits-1)*(NumBits-1)] = 1
                    Middle += "<IMG SRC = ./gifs/diagn1.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-2)] == 1) && (H[(NumBits-1)*(NumBits-2)] == 0) && D[(NumBits-1)*(NumBits-2)] == 1)
		{
		    D[(NumBits-1)*(NumBits-1)] = 0
                    Middle += "<IMG SRC = ./gifs/diagn0.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-2)] == 1) && (H[(NumBits-1)*(NumBits-2)] == 1) && D[(NumBits-1)*(NumBits-2)] == 0)
		{
		    D[(NumBits-1)*(NumBits-1)] = 1
                    Middle += "<IMG SRC = ./gifs/diagn1.gif>"
		}
		if ((V[(NumBits-1)*(NumBits-2)] == 1) && (H[(NumBits-1)*(NumBits-2)] == 1) && D[(NumBits-1)*(NumBits-2)] == 1)
		{
		    D[(NumBits-1)*(NumBits-1)] = 1
                    Middle += "<IMG SRC = ./gifs/diagn1.gif>"
		}

        // prints number of typeII' inputs required for row
        for (counter = 1; counter < NumBits-1; counter++)
	{     	
      		if ((V[(NumBits-1)*(NumBits-2)+counter-1] == 0) && (H[(NumBits-1)*(NumBits-2)+counter-1] == 0) && D[(NumBits-1)*(NumBits-2)+counter-1] == 0)
	        	{
		            V[(NumBits-1)*(NumBits-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/vertp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-2)+counter-1] == 0) && (H[(NumBits-1)*(NumBits-2)+counter-1] == 0) && D[(NumBits-1)*(NumBits-2)+counter-1] == 1)
           		{
		            V[(NumBits-1)*(NumBits-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/vertp1.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-2)+counter-1] == 0) && (H[(NumBits-1)*(NumBits-2)+counter-1] == 1) && D[(NumBits-1)*(NumBits-2)+counter-1] == 0)
           		{
		            V[(NumBits-1)*(NumBits-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/vertp1.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-2)+counter-1] == 0) && (H[(NumBits-1)*(NumBits-2)+counter-1] == 1) && D[(NumBits-1)*(NumBits-2)+counter-1] == 1)
                        {
                            V[(NumBits-1)*(NumBits-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/vertp0.gif>"
                        }
        		if ((V[(NumBits-1)*(NumBits-2)+counter-1] == 1) && (H[(NumBits-1)*(NumBits-2)+counter-1] == 0) && D[(NumBits-1)*(NumBits-2)+counter-1] == 0)
	        	{
		            V[(NumBits-1)*(NumBits-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/vertp1.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-2)+counter-1] == 1) && (H[(NumBits-1)*(NumBits-2)+counter-1] == 0) && D[(NumBits-1)*(NumBits-2)+counter-1] == 1)
           		{
		            V[(NumBits-1)*(NumBits-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/vertp0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-2)+counter-1] == 1) && (H[(NumBits-1)*(NumBits-2)+counter-1] == 1) && D[(NumBits-1)*(NumBits-2)+counter-1] == 0)
           		{
		            V[(NumBits-1)*(NumBits-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/vertp0.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-2)+counter-1] == 1) && (H[(NumBits-1)*(NumBits-2)+counter-1] == 1) && D[(NumBits-1)*(NumBits-2)+counter-1] == 1)
                        {
                            V[(NumBits-1)*(NumBits-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/vertp1.gif>"
                        }
                        // diagonals
        		if ((V[(NumBits-1)*(NumBits-2)+counter] == 0) && (H[(NumBits-1)*(NumBits-2)+counter] == 0) && D[(NumBits-1)*(NumBits-2)+counter] == 0)
	        	{
		            D[(NumBits-1)*(NumBits-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagn0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-2)+counter] == 0) && (H[(NumBits-1)*(NumBits-2)+counter] == 0) && D[(NumBits-1)*(NumBits-2)+counter] == 1)
           		{
		            D[(NumBits-1)*(NumBits-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagn0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-2)+counter] == 0) && (H[(NumBits-1)*(NumBits-2)+counter] == 1) && D[(NumBits-1)*(NumBits-2)+counter] == 0)
           		{
		            D[(NumBits-1)*(NumBits-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagn1.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-2)+counter] == 0) && (H[(NumBits-1)*(NumBits-2)+counter] == 1) && D[(NumBits-1)*(NumBits-2)+counter] == 1)
                        {
                            D[(NumBits-1)*(NumBits-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagn0.gif>"
                        }
        		if ((V[(NumBits-1)*(NumBits-2)+counter] == 1) && (H[(NumBits-1)*(NumBits-2)+counter] == 0) && D[(NumBits-1)*(NumBits-2)+counter] == 0)
	        	{
		            D[(NumBits-1)*(NumBits-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagn1.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-2)+counter] == 1) && (H[(NumBits-1)*(NumBits-2)+counter] == 0) && D[(NumBits-1)*(NumBits-2)+counter] == 1)
           		{
		            D[(NumBits-1)*(NumBits-1)+counter] = 0
                            Middle += "<IMG SRC = ./gifs/diagn0.gif>"
	         	}
		        if ((V[(NumBits-1)*(NumBits-2)+counter] == 1) && (H[(NumBits-1)*(NumBits-2)+counter] == 1) && D[(NumBits-1)*(NumBits-2)+counter] == 0)
           		{
		            D[(NumBits-1)*(NumBits-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagn1.gif>"
		        }
                        if ((V[(NumBits-1)*(NumBits-2)+counter] == 1) && (H[(NumBits-1)*(NumBits-2)+counter] == 1) && D[(NumBits-1)*(NumBits-2)+counter] == 1)
                        {
                            D[(NumBits-1)*(NumBits-1)+counter] = 1
                            Middle += "<IMG SRC = ./gifs/diagn1.gif>"
                        }



	}
        Middle += "<IMG SRC = ./gifs/vert.gif>"
        // prints more vertical lines and blanks
        for (counter = 1; counter <= NumBits-1; counter++)
	{
              Middle += "<IMG SRC = ./gifs/blank.gif>"
              Middle += "<IMG SRC = ./gifs/vert.gif>"
	}
	Middle += "<BR>"
        // now work on row with adders (last row of adders)
	// calculate remaining carries
	Middle += "<IMG SRC = ./gifs/horlast.gif>"
        for (counter = NumBits-2; counter >= 1; counter--)
	{
  	     if ((V[(NumBits-1)*(NumBits-1)+counter] == 0) && (H[(NumBits-1)*(NumBits-1)+counter] == 0) && D[(NumBits-1)*(NumBits-1)+counter] == 0) 
		H[(NumBits-1)*(NumBits-1)+counter-1] = 0
	     if ((V[(NumBits-1)*(NumBits-1)+counter] == 0) && (H[(NumBits-1)*(NumBits-1)+counter] == 0) && D[(NumBits-1)*(NumBits-1)+counter] == 1) 
		H[(NumBits-1)*(NumBits-1)+counter-1] = 1
	     if ((V[(NumBits-1)*(NumBits-1)+counter] == 0) && (H[(NumBits-1)*(NumBits-1)+counter] == 1) && D[(NumBits-1)*(NumBits-1)+counter] == 0) 
		H[(NumBits-1)*(NumBits-1)+counter-1] = 1
	     if ((V[(NumBits-1)*(NumBits-1)+counter] == 0) && (H[(NumBits-1)*(NumBits-1)+counter] == 1) && D[(NumBits-1)*(NumBits-1)+counter] == 1) 
		H[(NumBits-1)*(NumBits-1)+counter-1] = 1
	     if ((V[(NumBits-1)*(NumBits-1)+counter] == 1) && (H[(NumBits-1)*(NumBits-1)+counter] == 0) && D[(NumBits-1)*(NumBits-1)+counter] == 0) 
		H[(NumBits-1)*(NumBits-1)+counter-1] = 0
	     if ((V[(NumBits-1)*(NumBits-1)+counter] == 1) && (H[(NumBits-1)*(NumBits-1)+counter] == 0) && D[(NumBits-1)*(NumBits-1)+counter] == 1) 
		H[(NumBits-1)*(NumBits-1)+counter-1] = 0
	     if ((V[(NumBits-1)*(NumBits-1)+counter] == 1) && (H[(NumBits-1)*(NumBits-1)+counter] == 1) && D[(NumBits-1)*(NumBits-1)+counter] == 0) 
		H[(NumBits-1)*(NumBits-1)+counter-1] = 0
	     if ((V[(NumBits-1)*(NumBits-1)+counter] == 1) && (H[(NumBits-1)*(NumBits-1)+counter] == 1) && D[(NumBits-1)*(NumBits-1)+counter] == 1) 
		H[(NumBits-1)*(NumBits-1)+counter-1] = 1
	}
        Middle += "<IMG SRC = ./gifs/typeIIp.gif>"


	// print msb typeII' cell followed by its horizontal input
        for (counter = 1; counter < NumBits-1; counter++)
	{
                if (H[(NumBits-1)*(NumBits-1)+counter-1] == 0) 
                {
                     Middle += "<IMG SRC = ./gifs/horfull0.gif>"
		}
                else
		{
                 Middle += "<IMG SRC = ./gifs/horfull1.gif>"
		}
                Middle += "<IMG SRC = ./gifs/typeIIp.gif>"

	}
	Middle += "<IMG SRC = ./gifs/horhalfn0.gif>"
        Middle += "<IMG SRC = ./gifs/vert.gif>"
        // finsish row with vertical lines (rows=NumBits)
        for (counter = 1; counter <= rows-1; counter++)
	{
                Middle += "<IMG SRC = ./gifs/blank.gif>"
                Middle += "<IMG SRC = ./gifs/vert.gif>"
	}
	Middle += "<BR>"
        P[1] = V[NumBits-2]^H[NumBits-2]
	for (x=2; x<=NumBits-1; x++)
        {
            n=(NumBits-1)*(x-1)+NumBits-2
	    P[x] = V[n]^H[n]^D[n]
 	}
        n = ((NumBits-1)*(NumBits-1)+(NumBits-2))
        for (x=NumBits; x<=2*NumBits-2; x++)
	{
	  if ((V[n] == 0) && (H[n] == 0) && (D[n] == 0))
	    P[x]=0
	  if ((V[n] == 0) && (H[n] == 0) && (D[n] == 1))
	    P[x]=1 
	  if ((V[n] == 0) && (H[n] == 1) && (D[n] == 0))
	    P[x]=1
	  if ((V[n] == 0) && (H[n] == 1) && (D[n] == 1))
	    P[x]=0
	  if ((V[n] == 1) && (H[n] == 0) && (D[n] == 0))
	    P[x]=1
	  if ((V[n] == 1) && (H[n] == 0) && (D[n] == 1))
	    P[x]=0
	  if ((V[n] == 1) && (H[n] == 1) && (D[n] == 0))
	    P[x]=0
	  if ((V[n] == 1) && (H[n] == 1) && (D[n] == 1))
	    P[x]=1
	  n = n - 1
	}
        // bump n back up to calculate last carry
        n=n+1
        if ((V[n] == 0) && (H[n] == 0) && (D[n] == 0))
	  P[2*NumBits-1]=0
	if ((V[n] == 0) && (H[n] == 0) && (D[n] == 1))
	  P[2*NumBits-1]=1 
	if ((V[n] == 0) && (H[n] == 1) && (D[n] == 0))
	  P[2*NumBits-1]=1
	if ((V[n] == 0) && (H[n] == 1) && (D[n] == 1))
	  P[2*NumBits-1]=1
	if ((V[n] == 1) && (H[n] == 0) && (D[n] == 0))
	  P[2*NumBits-1]=0
	if ((V[n] == 1) && (H[n] == 0) && (D[n] == 1))
	  P[2*NumBits-1]=0
	if ((V[n] == 1) && (H[n] == 1) && (D[n] == 0))
	  P[2*NumBits-1]=0
	if ((V[n] == 1) && (H[n] == 1) && (D[n] == 1))
	  P[2*NumBits-1]=1
	
        // print last row of vertical lines
        if (P[2*NumBits-1]==1)
            Middle += "<IMG SRC = ./gifs/vertlast1.gif>"  
        else
            Middle += "<IMG SRC = ./gifs/vertlast0.gif>" 
        for (x = 2*NumBits-2; x >0; x--)
	{
            if (P[x] == 1)
                Middle += "<IMG SRC = ./gifs/vertp1.gif>"
            else
                Middle += "<IMG SRC = ./gifs/vertp0.gif>"
            Middle += "<IMG SRC = ./gifs/blank.gif>"
	}
        // calculates P0
        if (FirstNumber[0] && SecondNumber[0])
               Middle += "<IMG SRC = ./gifs/vertp1.gif>"
        else
               Middle += "<IMG SRC = ./gifs/vertp0.gif>"
        Middle += "<BR></PRE>\n"
       
        Middle += "</td></tr>\n\n"
        Middle += "  <tr><td>\n"

        index = 2*NumBits-1
        Middle += "    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n      <tr>\n"

        Middle += "    <td width=\"65\">P"+ index + "</td>\n"

    numHolder = 1;
	for (counter = 2*NumBits-2; counter >= 0; counter--)
	{
	       Middle += "    <td width=\""+(100)+"\" align=\"left\">P" + counter + "</td>\n"
               numHolder++
	}
    Middle += "      </td></tr>\n"
    
    Middle += "      <tr>"
    Middle += "      </tr>"
    Middle += "    </table>"
    Middle += "  </tr>\n"
	Middle += "</table>"	
    Middle += "<BR>"

	Middle += "<TABLE>"
    Middle += "<TR> <TD>A<TD>"	
    Middle += PrintTwosComp(A, NumDigits)   
	Middle += "<TD>  <TD> :  " + A + "<br>"
	Middle += "<TR> <TD>X<TD>x"
	Middle += PrintTwosComp(X, NumDigits)	
	Middle += "<TD>  <TD> :  " + X + "<br>"
	Middle += MakeLine(2*NumBits-1)
	Middle += "<TR> <TD>Product<TD>"	
    Middle += PrintTwosComp(Product, 2*NumDigits)   
	Middle += "<TD>  <TD> :  <B>" + Product + "</B><br>"
	Middle += "</TABLE><BR><BR>"

	Middle += "Total Delay for Multiplier =" + Delay
            
	Bottom = "</BODY> </HTML>";

	if (Overflow)  { Middle = PrintError("Overflow") }
	if (Fractional)     { Middle = PrintError("Fractional numbers") }
	if (NotBinary) { Middle = PrintError("At least one number is non-binary ") }
        if (Small) { Middle = PrintError("Array is too small- Number of Bits > 2 ") }

	parent.frames[1].document.open()
	parent.frames[1].document.write(TheTop);
	parent.frames[1].document.write(Middle);
	parent.frames[1].document.write(Bottom);
	parent.frames[1].document.close()

}



</SCRIPT>
</HEAD>

<BODY bgcolor="#FFAF1C">

<CENTER> <H2> 2's Complement Array Multiplier</H2> </CENTER>

<FORM>
A: <INPUT type="text" name="A"><P>
X: <INPUT type="text" name="X"><P>

<EM>bin</EM><INPUT type="radio" name="Base" value="Binary" checked>
<EM>dec</EM> <INPUT type="radio" name="Base" value="Decimal"><P>

Number of Bits (>2): <INPUT type="text" name="NumBits" value=5>

<HR>

<TABLE BORDER>
<CAPTION><B>Signal Delays</B></CAPTION>
<TR>
<TD>A<SUB>i</SUB> to C<SUB>i+1</SUB></TD>
<TD><INPUT type="text" name="AToCout" value=1.5 size=4></TD>
<TD>C<SUB>i</SUB> to C<SUB>i+1</SUB></TD>
<TD><INPUT type="text" name="CinToCout" value=1.0 size=4></TD>
</TR>

<TR>
<TD>C<SUB>i</SUB> to S<SUB>i  </SUB></TD>
<TD><INPUT type="text" name="CinToSum" value=1.5 size=4></TD>
<TD>A<SUB>i</SUB> to S<SUB>i  </SUB></TD>
<TD><INPUT type="text" name="AToSum" value=2.0 size=4></TD>
</TR>
</TABLE>



<p>
<CENTER>
<INPUT type="button" name="enter" value="Compute" onClick="ArrayMult(this.form)">
</CENTER>
</p>

<p>
<CENTER>
<INPUT TYPE="Reset"  VALUE="   Reset   " onClick=parent.frames[1].location.href="../tablet.html">
</CENTER>
</P>

<p>
<CENTER>
<INPUT TYPE="button"  VALUE="   Help    " onClick=parent.frames[1].location.href="help.html">
</CENTER>
</P>


</FORM>


</BODY>
</HTML>
